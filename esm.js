(function(e,f){function r(x){return function(p){var i=x[p];if(f[i][2])return f[i][2].exports;var o={},m={exports:o},[s,h]=f[i];f[i][2]=m;h.call(o,r(s),m,o);return m.exports}}r({"":e})("")})(0, [[{"../../index":1},function (require,module,exports) {
"use strict";var _index=_interopRequireDefault(require("../../index"));function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}window.Amonite=_index["default"];
}],[{"./libs/layout/component":2,"./libs/layout/section":3,"./libs/layout/page":4,"./libs/layout/define":5,"./libs/request/ajax":6,"./libs/request/resource":7,"./libs/router/router":8,"./libs/router/route":9},function (require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.init=init,exports.initAll=initAll,Object.defineProperty(exports,"Component",{enumerable:!0,get:function get(){return _component["default"]}}),Object.defineProperty(exports,"Section",{enumerable:!0,get:function get(){return _section["default"]}}),Object.defineProperty(exports,"Page",{enumerable:!0,get:function get(){return _page["default"]}}),Object.defineProperty(exports,"define",{enumerable:!0,get:function get(){return _define.define}}),Object.defineProperty(exports,"CustomHTMLElement",{enumerable:!0,get:function get(){return _define.CustomHTMLElement}}),Object.defineProperty(exports,"ajax",{enumerable:!0,get:function get(){return _ajax["default"]}}),Object.defineProperty(exports,"Resource",{enumerable:!0,get:function get(){return _resource["default"]}}),Object.defineProperty(exports,"Router",{enumerable:!0,get:function get(){return _router["default"]}}),Object.defineProperty(exports,"Route",{enumerable:!0,get:function get(){return _route["default"]}}),exports["default"]=void 0;var _component=_interopRequireDefault(require("./libs/layout/component")),_section=_interopRequireDefault(require("./libs/layout/section")),_page=_interopRequireDefault(require("./libs/layout/page")),_define=require("./libs/layout/define"),_ajax=_interopRequireDefault(require("./libs/request/ajax")),_resource=_interopRequireDefault(require("./libs/request/resource")),_router=_interopRequireDefault(require("./libs/router/router")),_route=_interopRequireDefault(require("./libs/router/route"));function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function init(a){"function"==typeof a&&("complete"===document.readyState?a():window.addEventListener("load",a))}function initAll(a){"complete"===document.readyState?(_page["default"].setContainer(),_router["default"].listenPopstate(),"function"==typeof a&&a()):window.addEventListener("load",function(){_page["default"].setContainer(),_router["default"].listenPopstate(),"function"==typeof a&&a()})}var Amonite={Component:_component["default"],Section:_section["default"],Page:_page["default"],define:_define.define,CustomHTMLElement:_define.CustomHTMLElement,ajax:_ajax["default"],Resource:_resource["default"],Router:_router["default"],Route:_route["default"],init:init,initAll:initAll};exports["default"]=Amonite;
}],[{},function (require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=void 0;function _slicedToArray(a,b){return _arrayWithHoles(a)||_iterableToArrayLimit(a,b)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(a,b){if(Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a)){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!(b&&c.length===b));d=!0);}catch(a){e=!0,f=a}finally{try{d||null==h["return"]||h["return"]()}finally{if(e)throw f}}return c}}function _arrayWithHoles(a){if(Array.isArray(a))return a}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),a}function _toConsumableArray(a){return _arrayWithoutHoles(a)||_iterableToArray(a)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(a){if(Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a))return Array.from(a)}function _arrayWithoutHoles(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}}function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function container(a,b,c){return a instanceof HTMLElement?a:"string"==typeof a?container(document.querySelector(a),b,c):"function"==typeof a?container(a.apply(b,c),b,c):null}function template(a,b,c){if(a instanceof HTMLElement)return a;if("function"==typeof a)return template(a.apply(b,c),b,c);var d=document.createElement("div");return d.setAttribute("component",b.constructor.name),"string"==typeof a&&(d.innerHTML=a),d}function elements(a,b,c){var d=b.template;if("function"==typeof a)return elements(a.apply(b,c),b,c);if("object"===_typeof(a)&&d instanceof HTMLElement){var e={};return Object.keys(a).forEach(function(b){a[b]instanceof HTMLElement&&(e[b]=[a[b]]),"string"==typeof a[b]?e[b]=_toConsumableArray(d.querySelectorAll(a[b])):a[b]&&a[b].forEach&&(e[b]=a[b])}),e}return{}}function events(a,b,c){var d=arguments,e=this;return"function"==typeof a?events(a.apply(b,c),b,c):void("object"===_typeof(a)&&Object.keys(a).forEach(function(c){var f=c.split(" ");if("string"==typeof a[c]&&1<f.length){var g=f.pop(),h=f.join(" ");a[c].split(",").forEach(function(a){g.split(",").forEach(function(c){h.split(",").forEach(function(e){var f,g=function(){b[a].apply(b,d)};c&&"function"==typeof b[a]&&((f=b.elements[e])instanceof HTMLElement?f.addEventListener(c,g):f&&f.forEach?f.forEach(function(a){a.addEventListener(c,g)}):b.template&&(f=b.template.querySelector(e))&&f.addEventListener(c,g))})})})}else if("object"===_typeof(a[c])){var i=f.join(" ");Object.keys(a[c]).forEach(function(f){var g=a[c][f];"string"==typeof g&&f.split(",").forEach(function(a){i.split(",").forEach(function(c){var f,h=function(){var a=_toConsumableArray(d);a.unshift(e),b[g].apply(b,a)};a&&"function"==typeof b[g]&&((f=b.elements[c])instanceof HTMLElement?f.addEventListener(a,h):f&&f.forEach?f.forEach(function(b){b.addEventListener(a,h)}):b.template&&(f=b.template.querySelector(c))&&f.addEventListener(a,h))})})})}}))}var Component=function(){function a(){_classCallCheck(this,a),Object.defineProperty(this,"_builder",{enumerable:!1,configurable:!1,value:{template:this.template,elements:this.elements,events:this.events}}),Object.defineProperty(this,"__events__",{enumerable:!1,configurable:!1,value:{}}),this.setTemplate.apply(this,[null].concat(Array.prototype.slice.call(arguments)))}return _createClass(a,[{key:"setTemplate",value:function setTemplate(){var a=Array.prototype.slice.call(arguments),b=a[0],c=a.slice(1),d=template(b||this._builder.template,this,c);return d instanceof HTMLElement&&(this.template=d,this.elements=elements(this._builder.elements,this,c),events(this._builder.events,this,c)),this}},{key:"setContainer",value:function setContainer(a){var b=container(a,this,arguments);return b instanceof HTMLElement&&(this.container=b,this.template instanceof HTMLElement&&this.container.appendChild(this.template)),this}},{key:"clearElement",value:function clearElement(a){var b,c,d;if(this.elements[a]&&(b=this.elements[a],c=_slicedToArray(b,1),d=c[0],b)){for(;d.firstChild;)d.removeChild(d.firstChild);return this}throw new Error("Element \"".concat(a,"\" is not an element of this component"))}},{key:"appendComponent",value:function appendComponent(b,c){var d,e,f;if(this.elements[b]&&(d=this.elements[b],e=_slicedToArray(d,1),f=e[0],d)){if(c instanceof a)return c.setContainer(f),this;throw new Error("Second parameter is not a Component object")}else throw new Error("Element \"".concat(b,"\" is not an element of this component"))}},{key:"fillComponent",value:function fillComponent(a,b){return this.clearElement(a).appendComponent(a,b)}},{key:"template",value:function(){return""}},{key:"elements",value:function(){return{}}},{key:"events",value:function(){return{}}},{key:"listen",value:function listen(a,b){var c=this;if("string"==typeof a){var d=a.split(/[\n\s,]+/g);if(1<d.length)return this.listen(_toConsumableArray(d),b)}else if(Array.isArray(a))return a.forEach(function(a){c.listen(a,b)}),this;if(Array.isArray(b))return b.forEach(function(b){c.listen(a,b)}),this;if("function"==typeof b){var e=this.__events__;Array.isArray(e[a])||(e[a]=[]),e[a].push(b)}return this}},{key:"dispatch",value:function dispatch(a,b){var c=this;if("string"==typeof a){var e=a.split(/[\n\s,]+/g);if(1<e.length)return this.listen(_toConsumableArray(e),b)}else if(Array.isArray(a))return a.forEach(function(a){c.listen(a,b)}),this;var d=this.__events__;return Array.isArray(d[a])||(d[a]=[]),d[a].forEach(function(a){Array.isArray(b)?a.apply(null,b):a()}),this}},{key:"detach",value:function detach(a,b){var c=this;if("string"==typeof a){var e=a.split(/[\n\s,]+/g);if(1<e.length)return this.listen(_toConsumableArray(e),b)}else if(Array.isArray(a))return a.forEach(function(a){c.listen(a,b)}),this;if(Array.isArray(b))return b.forEach(function(b){c.listen(a,b)}),this;var d=this.__events__;return Array.isArray(d[a])||(d[a]=[]),d[a]=void 0===b?[]:d[a].slice(d[a].indexOf(b)),this}},{key:"listenOnce",value:function listenOnce(a,b){var c=this,d=function(){c.detach(a,b),c.detach(a,d)};return this.listen(a,b),this.listen(a,d),this}}]),a}();exports["default"]=Component;
}],[{"./component":2,"./page":4},function (require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=void 0;var _component=_interopRequireDefault(require("./component")),_page=_interopRequireDefault(require("./page"));function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),a}function _possibleConstructorReturn(a,b){return b&&("object"===_typeof(b)||"function"==typeof b)?b:_assertThisInitialized(a)}function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(a)}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&_setPrototypeOf(a,b)}function _setPrototypeOf(a,b){return _setPrototypeOf=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a},_setPrototypeOf(a,b)}var Section=function(a){function b(){var a;return _classCallCheck(this,b),a=_possibleConstructorReturn(this,_getPrototypeOf(b).apply(this,arguments)),a.template.setAttribute("section",a.template.getAttribute("component")),a.template.removeAttribute("component"),a}return _inherits(b,a),_createClass(b,[{key:"setSection",value:function setSection(){var a=this.getWrapper();return a&&(a.setPage(this),this._builder.wrapper=a),this}},{key:"getWrapper",value:function getWrapper(){return this._builder.wrapper||(this._builder.wrapper=_page["default"].getPageByConstructor(this.wrapper())),this._builder.wrapper}},{key:"wrapper",value:function wrapper(){return null}}]),b}(_component["default"]);exports["default"]=Section;
}],[{"./component":2,"./section":3},function (require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=void 0;var _component=_interopRequireDefault(require("./component")),_section=_interopRequireDefault(require("./section"));function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),a}function _possibleConstructorReturn(a,b){return b&&("object"===_typeof(b)||"function"==typeof b)?b:_assertThisInitialized(a)}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(a)}function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&_setPrototypeOf(a,b)}function _setPrototypeOf(a,b){return _setPrototypeOf=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a},_setPrototypeOf(a,b)}var Page=function(a){function b(){var a;return _classCallCheck(this,b),a=_possibleConstructorReturn(this,_getPrototypeOf(b).call(this,b.container)),a.template.setAttribute("page",a.template.getAttribute("component")),a.template.removeAttribute("component"),b.instances[a.constructor.name]=_assertThisInitialized(a),a}return _inherits(b,a),_createClass(b,[{key:"setSection",value:function setSection(a){return a instanceof _section["default"]&&this.fillComponent("section",a),this}},{key:"setPage",value:function setPage(a){if(b.page!==this){for(var c=b.container;c.firstChild;)c.removeChild(c.firstChild);this.setContainer(into),b.page=this}return this.setSection(a)}}],[{key:"setContainer",value:function setContainer(a){return"function"==typeof a?b.setContainer(a()):void("string"==typeof a&&(a=document.querySelector(a)),b.container=a instanceof HTMLElement?a:b.container||document.body,b.page&&b.page.setContainer(a))}},{key:"getCurrentPage",value:function getCurrentPage(){return b.page}},{key:"getPageByConstructor",value:function getPageByConstructor(a){var c=b.instances[a.name];return c instanceof b?c:new a}}]),b}(_component["default"]);exports["default"]=Page,Page.instances={},Page.container=null;
}],[{},function (require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.define=exports["default"]=define,exports.CustomHTMLElement=void 0;function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _toConsumableArray(a){return _arrayWithoutHoles(a)||_iterableToArray(a)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(a){if(Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a))return Array.from(a)}function _arrayWithoutHoles(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}}function getCustomChildren(a){return _toConsumableArray(a.querySelectorAll(Object.keys(DEFINES).join(",").toUpperCase()))}function test(a){var b=DEFINES[a.nodeName.toUpperCase()];if(-1===DEFINED.indexOf(a)){if(b){new b(a);var c=getCustomChildren(a);c.length?c.forEach(function(b){b.addEventListener("load",function(){c.filter(function(a){return-1===DEFINED.indexOf(a)}).length||(DEFINED.push(a),a.dispatchEvent(new Event("load")))})}):(DEFINED.push(a),a.dispatchEvent(new Event("load")))}a.childNodes.length&&a.childNodes.forEach(test)}}function onload(){var a=new MutationObserver(function(a){a.forEach(function(a){a.addedNodes.forEach(test)})});a.observe(document.querySelector("html"),{attributes:!0,childList:!0,characterData:!0,subtree:!0})}window.addEventListener("load",onload),"complete"===window.document.readyState&&onload();var DEFINES={},DEFINED=[];function define(a,b){if("string"!=typeof a)throw new Error("First parameter should be a string (to select items by node name in dom tree)");if("function"!=typeof b)throw new Error("Second parameter should be a class or a function (to construct item)");DEFINES[a.toUpperCase()]=b,_toConsumableArray(document.querySelectorAll(a.toUpperCase())).forEach(test)}var CustomHTMLElement=function a(){_classCallCheck(this,a)};exports.CustomHTMLElement=CustomHTMLElement;
}],[{},function (require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ajax=exports["default"]=ajax,exports.ajaxParameters=ajaxParameters,exports.tryExec=tryExec;function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function ajax(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];var d=ajaxParameters.apply(null,b),e=new Promise(function(a,b){var c=new XMLHttpRequest;c.addEventListener("loadend",function(){a(c)}),c.addEventListener("error",function(){var a=new Error("Request ".concat(d.method," ").concat(d.uri," failed"));a.xhr=c,b(a)}),c.open(d.method,d.uri),"object"===_typeof(d.headers)&&null!==d.headers&&Object.keys(d.headers).forEach(function(a){var b=tryExec(d.headers[a]);"string"==typeof b&&c.setRequestHeader(a,b)}),"string"==typeof d.overrideMimeType&&c.overrideMimeType(d.overrideMimeType),c.send(d.data)});return Array.isArray(d.success)&&d.success.forEach(function(a){"function"==typeof a&&e.then(a)}),"function"==typeof d.success&&e.then(d.success),Array.isArray(d.failure)&&d.failure.forEach(function(a){"function"==typeof a&&e["catch"](a)}),"function"==typeof d.failure&&e["catch"](d.failure),e}function ajaxParameters(a,b,c,d,e,f,g){return"object"===_typeof(a)?ajaxParameters(a.method,a.uri||a.url||a.file||a.source,a.data||a.body||a.post,a.success||a.load,a.failure||a.error,a.headers,a.overrideMimeType):{method:tryExec.call(this,a,"GET",arguments),uri:tryExec.call(this,b,"",arguments),data:tryExec.call(this,c,null,arguments),success:d,failure:e,headers:tryExec.call(this,f,null,arguments),overrideMimeType:tryExec.call(this,g,null,arguments)}}function tryExec(a,b,c){return"function"==typeof a?a.apply(this,c):"string"==typeof a?a:b}
}],[{"./ajax":6},function (require,module,exports) {
"use strict";var _ajax=_interopRequireDefault(require("./ajax"));Object.defineProperty(exports,"__esModule",{value:!0}),exports.merge=merge,exports.Resource=exports["default"]=void 0;function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),a}function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function merge(){for(var a={},b=[],c=[],d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];for(;e.length;){var g=e.shift();Array.isArray(g.success)&&b.concat(g.success),"function"==typeof g.success&&b.push(g.success),Array.isArray(g.failure)&&c.concat(g.failure),"function"==typeof g.failure&&c.push(g.failure),Object.assign(a,g)}return a.success=b,a.failure=c,a}function ajaxParameters(a,b,c,d,e,f,g){return"object"===_typeof(a)&&null!==a?ajaxParameters(a.method,a.uri||a.url||a.file||a.source,a.data||a.body||a.post,a.success||a.load,a.failure||a.error,a.headers,a.overrideMimeType):{method:a,uri:b,data:c,success:d,failure:e,headers:f,overrideMimeType:g}}var Resource=function(){function a(){_classCallCheck(this,a);for(var b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];this.commonBuilder=ajaxParameters.apply(null,c),this.methodsBuilder={}}return _createClass(a,[{key:"addMethod",value:function addMethod(a){for(var b=arguments,c=arguments.length,d=Array(1<c?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];var f=this;if(this[a])throw new Error("This resource already has a ".concat(a," method"));return this.methodsBuilder[a]=ajaxParameters.apply(null,d),this[a]=function(){var c=ajaxParameters.apply(null,b);return(0,_ajax["default"])(merge(f.commonBuilder,f.methodsBuilder[a],c))},this}}],[{key:"request",value:function request(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];var d=ajaxParameters.apply(null,b);return(0,_ajax["default"])(d)}}]),a}();exports.Resource=exports["default"]=Resource;
}],[{"./route":9},function (require,module,exports) {
"use strict";var _route=_interopRequireDefault(require("./route"));Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=void 0;function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),a}var ROUTERS=[],defaultController=null,launched=!1;window.r=ROUTERS;var Router=function(){function a(b,c){_classCallCheck(this,a),this.baseUrl=b||"",this.firstCall=c||null,this.routes=[],ROUTERS.push(this)}return _createClass(a,[{key:"add",value:function add(b,c){if("string"==typeof b&&"function"==typeof c&&(b=new _route["default"](this.baseUrl+b,c)),b instanceof _route["default"]&&(this.routes.push(b),launched)){var d=b.getArgs();d&&(this.callFirst(),b.go(d),a.current=b)}return b}},{key:"test",value:function test(){return this.routes.find(function(a){return a.getArgs()})}},{key:"callFirst",value:function callFirst(){"function"==typeof this.firstCall&&(this.firstCall(),this.firstCall=null)}}],[{key:"setDefault",value:function setDefault(a){defaultController=a}},{key:"listenPopstate",value:function listenPopstate(){window.addEventListener("popstate",popstate),launched||popstate()}},{key:"getAll",value:function getAll(){var a=ROUTERS.map(function(a){return a.routes.map(function(a){return a.path})}).flat();return defaultController&&a.unshift("*"),a}}]),a}();exports["default"]=Router;function popstate(){launched=!0;var a,b;ROUTERS.forEach(function(c){a||(a=c.test(),b=c)}),a?(b.callFirst(),a.run(),Router.current=a):"function"==typeof defaultController&&defaultController()}
}],[{"./chunk":10},function (require,module,exports) {
"use strict";var _chunk=_interopRequireDefault(require("./chunk"));Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=void 0;function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),a}var currentArgs,Route=function(){function a(b,c){if(_classCallCheck(this,a),"string"==typeof b&&(b=b.split("/")),Array.isArray(b))this.chunks=b.map(function(a){return new _chunk["default"](a)});else throw new Error("First parameter should be a string.");if("function"!=typeof c)throw new Error("Second parameter should be a function.");this.controller=c,this.noEnd="*"===this.chunks[this.chunks.length-1].original}return _createClass(a,[{key:"go",value:function go(b,c){var d="object"===_typeof(b)?b:{},e=this.createPath(Object.assign({},currentArgs,d));return c&&e===a.getBrowserRequest()?this.run(b):a.setBrowserRequest(e),this}},{key:"run",value:function run(a){return currentArgs=a||this.getArgs(),this.controller(currentArgs)}},{key:"getArgs",value:function getArgs(){var b=a.getBrowserRequest().split("/");try{var c=0,d=this.chunks.map(function(a){var d=b[c++],e=a.extractArgs(d);return e});if("*"===this.chunks[c-1].original)d.pop(),d.push({value:b.slice(c-1).join("/")});else if(c!==b.length)return null;return d}catch(a){return null}}},{key:"isMatch",value:function isMatch(){return null!==this.getArgs()}},{key:"createPath",value:function createPath(a){return Array.isArray(a)||(a=[]),this.chunks.map(function(b,c){return b.createPath(a[c])}).join("/")}}],[{key:"getBrowserRequest",value:function getBrowserRequest(){return window.location.hash.substr(1)}},{key:"setBrowserRequest",value:function setBrowserRequest(a){window.location.hash=a}}]),a}(),_default=Route;exports["default"]=_default;
}],[{},function (require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),a}var ChunkError=function(){function a(b){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;_classCallCheck(this,a);var e=new Error().stack.split(/\s*[\r\n]+\s*/);e.shift(),e.shift(),Object.assign(this,{message:b,code:c,previous:d,stack:e})}return _createClass(a,[{key:"toString",value:function toString(){return"".concat(this.constructor.name," (").concat(this.code,"): ").concat(this.message,"\n\t").concat(this.stack.join("\n\t"),"\n")}}]),a}(),FORMATS={number:function number(a){var b=parseFloat(a);if(isNaN(b))throw new ChunkError("Bad type: expect argument to be a number.");return b},integer:function integer(a){var b=parseInt(a);if(isNaN(b))throw new ChunkError("Bad type: expect argument to be an integer.");return b},float:function float(a){var b=parseFloat(a);if(isNaN(b))throw new ChunkError("Bad type: expect argument to be a float.");return b},string:function string(a){try{var b=JSON.parse(a);if("string"==typeof b)return b}catch(a){}return a},json:function json(a){try{var b=JSON.parse(a);if("object"===_typeof(b))return b}catch(a){}throw new ChunkError("Bad type: expect argument to be a json object.")},jsonarray:function jsonarray(a){try{var b=JSON.parse(a);if("object"===_typeof(b)&&Array.isArray(b))return b}catch(a){}throw new ChunkError("Bad type: expect argument to be a json array.")},jsonobject:function jsonobject(a){try{var b=JSON.parse(a);if("object"===_typeof(b)&&!Array.isArray(b))return b}catch(a){}throw new ChunkError("Bad type: expect argument to be a json object not array.")},boolean:function boolean(a){try{var c=JSON.parse(a);if("boolean"==typeof c)return c}catch(a){}throw new ChunkError("Bad type: expect argument to be a boolean.")},any:function any(a){try{return JSON.parse(a)}catch(a){}return a},uuid:function uuid(a){if(a.match(/^[\da-f]{8}-[\da-f]{4}-4[\da-f]{3}-[89ab][\da-f]{3}-[\da-f]{12}$/))return a;throw new ChunkError("Bad type: expect argument to be an uuid.")},date:function date(a){if(a.match(/^\d{4}-\d{2}-\d{2}$/))return new Date(a);throw new ChunkError("Bad type: expect argument to be a date.")},time:function time(a){var b=a.match(/^(2[0-3]|[01][0-9]):([0-5][0-9])(:([0-5][0-9])(.(\d{1,3}))?)?$/);if(b){var c=new Date;return c.setHours(b[1]),c.setMinutes(b[2]),b[3]&&c.setSeconds(b[4]),b[5]&&c.setMilliseconds(b[6]),c}throw new ChunkError("Bad type: expect argument to be a time.")},datetime:function datetime(a){var b=new Date(a);if(!isNaN(+b))return b;throw new ChunkError("Bad type: expect argument to be any Date format.")},jsondate:function jsondate(a){var b=new Date(a);if(!isNaN(+b))return b;throw new ChunkError("Bad type: expect argument to be any Date format.")},integerdate:function integerdate(a){var b=new Date(parseInt(a));if(!isNaN(+b))return b;throw new ChunkError("Bad type: expect argument to be an integer.")}};FORMATS[""]=FORMATS.any;function isObject(a){return"object"===_typeof(a)&&null!==a}function ruleToObject(a){var b={};if("object"===_typeof(a)&&(a instanceof RegExp?b.regexp=a:(a.value&&(b.value=a.value),a.key&&(b.key=a.key),a.type&&(b.type=a.type),a.regexp&&(b.regexp=a.regexp),a.match&&(b.match=a.match),a.transform&&(b.transform=a.transform))),"function"==typeof a&&(b.transform=a),"string"==typeof a){if("*"===a)return{};var c=a.split(":");if(1<c.length){var d=c.shift(),e=c.join(":");b.type=e,d.length&&(b.key=d)}else b.value=a}return b}function testValue(a,b){if(a.value!==void 0){if(a.value===b)return{value:b};throw new ChunkError("Chunk value does not match")}var c={};if(!(a.type!==void 0))c.value=b;else if(void 0!==FORMATS[a.type])c.value=FORMATS[a.type](b),c.type=a.type;else throw new ChunkError("Chunk value match type does not exists");if(a.regexp instanceof RegExp){var d=b.match(a.regexp);if(!d)throw new ChunkError("Chunk value does not match RegExp");else if(c.regexp=a.regexp,isObject(a.match)){var e=Object.keys(a.match).find(function(b){return a.match[b]===d[0]});if(void 0!==e)c.index=e;else throw new ChunkError("Chunk RegExp found value does not match listed values")}}else if(isObject(a.match)){var f=Object.keys(a.match).find(function(c){return a.match[c]===b});if(void 0!==f)c.index=f;else throw new ChunkError("Chunk value does not match listed values")}return"function"==typeof a.transform?(c.original=b,c.transform=a.transform,a.transform(c)):c}function _extractArgs(a,b){if(a.key!==void 0){var c=b.split(":");if(1<c.length){var d=c.shift(),e=c.join(":"),f=testValue(a,e);return f.key=a.key,f}throw new ChunkError("Chunk content does not match key/value format")}else return testValue(a,b)}function _createPath(a,b){var c=(a.key?a.key+":":"")+b;if(a.type!==void 0)try{FORMATS[a.type](b)}catch(a){throw new ChunkError("Value does not match path requirements")}if(a.regexp instanceof RegExp){var d=b.match(a.regexp);if(!d)throw new ChunkError("Value does not match path requirements");else if(Array.isArray(a.match)&&-1===a.match.indexOf(d[0]))throw new ChunkError("Value does not match path requirements")}else if(Array.isArray(a.match)&&-1===a.match.indexOf(b))throw new ChunkError("Value does not match path requirements");return c}var Chunk=function(){function a(b){_classCallCheck(this,a),this.original=b,this.rule=ruleToObject(b)}return _createClass(a,[{key:"extractArgs",value:function extractArgs(a){return _extractArgs(this.rule,""+a)}},{key:"createPath",value:function createPath(a){if("object"===_typeof(a)&&(a=a.value),~["string","number"].indexOf(_typeof(a)))return _createPath(this.rule,""+a);throw new Error("First parameter should be a string, a number or an object containing \"value\" field")}},{key:"setType",value:function setType(a){return this.rule.type=a,this}},{key:"setTransform",value:function setTransform(a){if("function"==typeof a)this.rule.transform=a;else throw new Error("First parameter should be a Function");return this}},{key:"setRegExp",value:function setRegExp(a){if(a instanceof RegExp)this.rule.regexp=a;else throw new TypeError("First parameter should be a RegExp instance");return this}},{key:"addMatcher",value:function addMatcher(a){return this.rule.match||(this.rule.match=[]),this.rule.match.push(a),this}},{key:"setMatchers",value:function setMatchers(a){if(Array.isArray(a))this.rule.match=a;else throw new TypeError("First parameter should be an Array");return this}}],[{key:"addFormat",value:function addFormat(a,b){if("function"!=typeof b)throw new TypeError("Second parameter should be a Function");if(FORMATS[a])throw new TypeError("Type ".concat(a," already exists"));FORMATS[a]=b}}]),a}(),_default=Chunk;exports["default"]=_default;
}]]);

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9idWlsZGVyL2ZhY3Rvcnkvd2luZG93ZWQuanMiLCIvaW5kZXguanMiLCIvbGlicy9sYXlvdXQvY29tcG9uZW50LmpzIiwiL2xpYnMvbGF5b3V0L3NlY3Rpb24uanMiLCIvbGlicy9sYXlvdXQvcGFnZS5qcyIsIi9saWJzL2xheW91dC9kZWZpbmUuanMiLCIvbGlicy9yZXF1ZXN0L2FqYXguanMiLCIvbGlicy9yZXF1ZXN0L3Jlc291cmNlLmpzIiwiL2xpYnMvcm91dGVyL3JvdXRlci5qcyIsIi9saWJzL3JvdXRlci9yb3V0ZS5qcyIsIi9saWJzL3JvdXRlci9jaHVuay5qcyJdLCJuYW1lcyI6WyJ3aW5kb3ciLCJBbW9uaXRlIiwiaW5pdCIsInRoZW4iLCJkb2N1bWVudCIsInJlYWR5U3RhdGUiLCJhZGRFdmVudExpc3RlbmVyIiwiaW5pdEFsbCIsIlBhZ2UiLCJzZXRDb250YWluZXIiLCJSb3V0ZXIiLCJsaXN0ZW5Qb3BzdGF0ZSIsIkNvbXBvbmVudCIsIlNlY3Rpb24iLCJkZWZpbmUiLCJDdXN0b21IVE1MRWxlbWVudCIsImFqYXgiLCJSZXNvdXJjZSIsIlJvdXRlIiwiY29udGFpbmVyIiwiZWwiLCJzZWxmIiwiYXJncyIsIkhUTUxFbGVtZW50IiwicXVlcnlTZWxlY3RvciIsImFwcGx5IiwidGVtcGxhdGUiLCJkaXYiLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlIiwiY29uc3RydWN0b3IiLCJuYW1lIiwiaW5uZXJIVE1MIiwiZWxlbWVudHMiLCJpbnRvIiwicmVzdWx0IiwiT2JqZWN0Iiwia2V5cyIsImZvckVhY2giLCJxdWVyeVNlbGVjdG9yQWxsIiwiZXZlbnRzIiwicGFpciIsInNwbGl0IiwibGVuZ3RoIiwiZXZzIiwicG9wIiwic2VsZWN0b3JzIiwiam9pbiIsIm1ldGhvZCIsImV2ZW50TmFtZSIsInNlbGVjdG9yIiwibm9kZSIsImZuIiwiYXJndW1lbnRzIiwibiIsIl9hcmdzIiwidW5zaGlmdCIsImRlZmluZVByb3BlcnR5Iiwic2V0VGVtcGxhdGUiLCJkb20iLCJ0cGwiLCJfYnVpbGRlciIsImVsZW1lbnQiLCJjb250IiwiYXBwZW5kQ2hpbGQiLCJmaXJzdENoaWxkIiwicmVtb3ZlQ2hpbGQiLCJFcnJvciIsImNvbXBvbmVudCIsImNsZWFyRWxlbWVudCIsImFwcGVuZENvbXBvbmVudCIsInQiLCJsaXN0ZW4iLCJBcnJheSIsImlzQXJyYXkiLCJldiIsImYiLCJwdXNoIiwic2xpY2UiLCJpbmRleE9mIiwiZGVsIiwiZGV0YWNoIiwiZ2V0QXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwicGFnZSIsImdldFdyYXBwZXIiLCJzZXRQYWdlIiwid3JhcHBlciIsImdldFBhZ2VCeUNvbnN0cnVjdG9yIiwiaW5zdGFuY2VzIiwic2VjdGlvbiIsImZpbGxDb21wb25lbnQiLCJzZXRTZWN0aW9uIiwiYm9keSIsIkNvbnN0ciIsImluc3QiLCJnZXRDdXN0b21DaGlsZHJlbiIsIkRFRklORVMiLCJ0b1VwcGVyQ2FzZSIsInRlc3QiLCJEZWYiLCJub2RlTmFtZSIsIkRFRklORUQiLCJjaGlsZHJlbiIsImNoaWxkIiwiZmlsdGVyIiwiX2NoaWxkIiwiZGlzcGF0Y2hFdmVudCIsIkV2ZW50IiwiY2hpbGROb2RlcyIsIm9ubG9hZCIsIm1vIiwiTXV0YXRpb25PYnNlcnZlciIsIm11dGF0aW9ucyIsIm11dGF0aW9uIiwiYWRkZWROb2RlcyIsIm9ic2VydmUiLCJhdHRyaWJ1dGVzIiwiY2hpbGRMaXN0IiwiY2hhcmFjdGVyRGF0YSIsInN1YnRyZWUiLCJidWlsZGVyIiwiYWpheFBhcmFtZXRlcnMiLCJwcm9tIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJ4aHIiLCJYTUxIdHRwUmVxdWVzdCIsImVyciIsInVyaSIsIm9wZW4iLCJoZWFkZXJzIiwia2V5Iiwic3RyIiwidHJ5RXhlYyIsInNldFJlcXVlc3RIZWFkZXIiLCJvdmVycmlkZU1pbWVUeXBlIiwic2VuZCIsImRhdGEiLCJzdWNjZXNzIiwiZmFpbHVyZSIsInVybCIsImZpbGUiLCJzb3VyY2UiLCJwb3N0IiwibG9hZCIsImVycm9yIiwiY2FsbCIsImRlZiIsIm1lcmdlIiwic2hpZnQiLCJjb25jYXQiLCJhc3NpZ24iLCJjb21tb25CdWlsZGVyIiwibWV0aG9kc0J1aWxkZXIiLCJST1VURVJTIiwiZGVmYXVsdENvbnRyb2xsZXIiLCJsYXVuY2hlZCIsInIiLCJiYXNlVXJsIiwiZmlyc3RDYWxsIiwicm91dGVzIiwicm91dGUiLCJjb250cm9sbGVyIiwiZ2V0QXJncyIsImNhbGxGaXJzdCIsImdvIiwiY3VycmVudCIsImZpbmQiLCJwb3BzdGF0ZSIsImxpc3QiLCJtYXAiLCJyb3V0ZXIiLCJwYXRoIiwiZmxhdCIsImZvdW5kIiwicnVuIiwiY3VycmVudEFyZ3MiLCJjaHVua3MiLCJjaHVuayIsIkNodW5rIiwibm9FbmQiLCJvcmlnaW5hbCIsImZvcmNlIiwicGFyYW1zIiwiY3JlYXRlUGF0aCIsImdldEJyb3dzZXJSZXF1ZXN0Iiwic2V0QnJvd3NlclJlcXVlc3QiLCJpdGVtcyIsImkiLCJpdGVtIiwicmVzIiwiZXh0cmFjdEFyZ3MiLCJ2YWx1ZSIsImUiLCJsb2NhdGlvbiIsImhhc2giLCJzdWJzdHIiLCJDaHVua0Vycm9yIiwibWVzc2FnZSIsImNvZGUiLCJwcmV2aW91cyIsInN0YWNrIiwiRk9STUFUUyIsIm51bWJlciIsInBhcnNlRmxvYXQiLCJpc05hTiIsImludGVnZXIiLCJwYXJzZUludCIsInN0cmluZyIsInMiLCJKU09OIiwicGFyc2UiLCJqc29uIiwibyIsImpzb25hcnJheSIsImpzb25vYmplY3QiLCJiIiwiYW55IiwidXVpZCIsIm1hdGNoIiwiZGF0ZSIsIkRhdGUiLCJ0aW1lIiwiZHQiLCJzZXRIb3VycyIsInNldE1pbnV0ZXMiLCJzZXRTZWNvbmRzIiwic2V0TWlsbGlzZWNvbmRzIiwiZGF0ZXRpbWUiLCJqc29uZGF0ZSIsImludGVnZXJkYXRlIiwiaXNPYmplY3QiLCJydWxlVG9PYmplY3QiLCJydWxlIiwiUmVnRXhwIiwicmVnZXhwIiwidHlwZSIsInRyYW5zZm9ybSIsInRlc3RWYWx1ZSIsIm0iLCJpbmRleCIsIlR5cGVFcnJvciIsIm1hdGNoZXIiLCJtYXRjaGVycyIsImZvcm1hdHRlciJdLCJtYXBwaW5ncyI6IjthQUFBLDBELHdFQUNBQSxNQUFNLENBQUNDLE9BQVAsQ0FBaUJBLGlCOztzbURDVWpCLFFBQVNDLEtBQVQsQ0FBZUMsQ0FBZixDQUFxQixDQUNDLFVBQWhCLFFBQU9BLEVBRFEsR0FFVyxVQUF4QixHQUFBQyxRQUFRLENBQUNDLFVBRkksQ0FHZkYsQ0FBSSxFQUhXLENBS2ZILE1BQU0sQ0FBQ00sZ0JBQVAsQ0FBd0IsTUFBeEIsQ0FBZ0NILENBQWhDLENBTGUsQ0FRcEIsQ0FFRCxRQUFTSSxRQUFULENBQWtCSixDQUFsQixDQUF3QixDQUNNLFVBQXhCLEdBQUFDLFFBQVEsQ0FBQ0MsVUFEUyxFQUVwQkcsaUJBQUtDLFlBQUwsRUFGb0IsQ0FHcEJDLG1CQUFPQyxjQUFQLEVBSG9CLENBSUEsVUFBaEIsUUFBT1IsRUFKUyxFQUtsQkEsQ0FBSSxFQUxjLEVBUXBCSCxNQUFNLENBQUNNLGdCQUFQLENBQXdCLE1BQXhCLENBQWdDLFVBQU0sQ0FDcENFLGlCQUFLQyxZQUFMLEVBRG9DLENBRXBDQyxtQkFBT0MsY0FBUCxFQUZvQyxDQUdoQixVQUFoQixRQUFPUixFQUh5QixFQUlsQ0EsQ0FBSSxFQUVQLENBTkQsQ0FRSCxDQUVELEdBQU1GLFFBQU8sQ0FBRyxDQUNkVyxTQUFTLENBQVRBLHFCQURjLENBRWRDLE9BQU8sQ0FBUEEsbUJBRmMsQ0FHZEwsSUFBSSxDQUFKQSxnQkFIYyxDQUlkTSxNQUFNLENBQU5BLGNBSmMsQ0FLZEMsaUJBQWlCLENBQWpCQSx5QkFMYyxDQU9kQyxJQUFJLENBQUpBLGdCQVBjLENBUWRDLFFBQVEsQ0FBUkEsb0JBUmMsQ0FVZFAsTUFBTSxDQUFOQSxrQkFWYyxDQVdkUSxLQUFLLENBQUxBLGlCQVhjLENBYWRoQixJQUFJLENBQUpBLElBYmMsQ0FjZEssT0FBTyxDQUFQQSxPQWRjLENBQWhCLEM7OzZ5REN2Q0EsUUFBU1ksVUFB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SixDQUNFLEtBQUtWLElBQUwsQ0FBVWQsS0FBVixDQUFrQndCLENBRHBCLEtBR0UsTUFBTSxJQUFJRixVQUFKLENBQWMsb0NBQWQsQ0FBTixDQUVGLE1BQU8sS0FDUixDLDhDQUVpQnBOLEMsQ0FBTXVOLEMsQ0FBVyxDQUNqQyxHQUEyQixVQUFyQixRQUFPQSxFQUFiLENBQ0UsS0FBTSxJQUFJSCxVQUFKLENBQWMsdUNBQWQsQ0FBTixDQUVGLEdBQUl2QyxPQUFPLENBQUM3SyxDQUFELENBQVgsQ0FDRSxLQUFNLElBQUlvTixVQUFKLGdCQUFzQnBOLENBQXRCLG9CQUFOLENBRUY2SyxPQUFPLENBQUM3SyxDQUFELENBQVAsQ0FBZ0J1TixDQUNqQixDLGtCQUlZakUsSyIsImZpbGUiOiIvaG9tZS92LmNvdXJ0aW5AZ29wLmxpbmsvd3d3L2Ftb25pdGUtY3JhZnQvYnVpbGRlci9mYWN0b3J5L3dpbmRvd2VkLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEFtb25pdGUgZnJvbSBcIi4uLy4uL2luZGV4XCI7XG53aW5kb3cuQW1vbml0ZSA9IEFtb25pdGU7XG4iLCJpbXBvcnQgQ29tcG9uZW50IGZyb20gXCIuL2xpYnMvbGF5b3V0L2NvbXBvbmVudFwiO1xuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4vbGlicy9sYXlvdXQvc2VjdGlvblwiO1xuaW1wb3J0IFBhZ2UgZnJvbSBcIi4vbGlicy9sYXlvdXQvcGFnZVwiO1xuaW1wb3J0IHsgZGVmaW5lLCBDdXN0b21IVE1MRWxlbWVudCB9IGZyb20gXCIuL2xpYnMvbGF5b3V0L2RlZmluZVwiO1xuXG5pbXBvcnQgYWpheCBmcm9tIFwiLi9saWJzL3JlcXVlc3QvYWpheFwiO1xuaW1wb3J0IFJlc291cmNlIGZyb20gXCIuL2xpYnMvcmVxdWVzdC9yZXNvdXJjZVwiO1xuXG5pbXBvcnQgUm91dGVyIGZyb20gXCIuL2xpYnMvcm91dGVyL3JvdXRlclwiO1xuaW1wb3J0IFJvdXRlIGZyb20gXCIuL2xpYnMvcm91dGVyL3JvdXRlXCI7XG5cbmZ1bmN0aW9uIGluaXQgKHRoZW4pIHtcbiAgaWYgKHR5cGVvZiB0aGVuID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gXCJjb21wbGV0ZVwiKSB7XG4gICAgICB0aGVuKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCB0aGVuKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gaW5pdEFsbCAodGhlbikge1xuICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gXCJjb21wbGV0ZVwiKSB7XG4gICAgUGFnZS5zZXRDb250YWluZXIoKTtcbiAgICBSb3V0ZXIubGlzdGVuUG9wc3RhdGUoKTtcbiAgICBpZiAodHlwZW9mIHRoZW4gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgdGhlbigpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgKCkgPT4ge1xuICAgICAgUGFnZS5zZXRDb250YWluZXIoKTtcbiAgICAgIFJvdXRlci5saXN0ZW5Qb3BzdGF0ZSgpO1xuICAgICAgaWYgKHR5cGVvZiB0aGVuID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgdGhlbigpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbmNvbnN0IEFtb25pdGUgPSB7XG4gIENvbXBvbmVudCxcbiAgU2VjdGlvbixcbiAgUGFnZSxcbiAgZGVmaW5lLFxuICBDdXN0b21IVE1MRWxlbWVudCxcblxuICBhamF4LFxuICBSZXNvdXJjZSxcblxuICBSb3V0ZXIsXG4gIFJvdXRlLFxuXG4gIGluaXQsXG4gIGluaXRBbGxcbn07XG5cbmV4cG9ydCB7XG4gIENvbXBvbmVudCxcbiAgU2VjdGlvbixcbiAgUGFnZSxcbiAgZGVmaW5lLFxuICBDdXN0b21IVE1MRWxlbWVudCxcblxuICBhamF4LFxuICBSZXNvdXJjZSxcblxuICBSb3V0ZXIsXG4gIFJvdXRlLFxuXG4gIGluaXQsXG4gIGluaXRBbGwsXG5cbiAgQW1vbml0ZSBhcyBkZWZhdWx0XG59O1xuIiwiZnVuY3Rpb24gY29udGFpbmVyIChlbCwgc2VsZiwgYXJncykge1xuICBpZiAoZWwgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgIHJldHVybiBlbFxuICB9XG4gIGVsc2UgaWYgKHR5cGVvZiBlbCA9PT0gXCJzdHJpbmdcIikge1xuICAgIHJldHVybiBjb250YWluZXIoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlbCksIHNlbGYsIGFyZ3MpXG4gIH1cbiAgZWxzZSBpZiAodHlwZW9mIGVsID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICByZXR1cm4gY29udGFpbmVyKGVsLmFwcGx5KHNlbGYsIGFyZ3MpLCBzZWxmLCBhcmdzKVxuICB9XG4gIGVsc2Uge1xuICAgIHJldHVybiBudWxsXG4gIH1cbn1cblxuZnVuY3Rpb24gdGVtcGxhdGUgKGVsLCBzZWxmLCBhcmdzKSB7XG4gIGlmIChlbCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgcmV0dXJuIGVsXG4gIH1cbiAgZWxzZSBpZiAodHlwZW9mIGVsID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICByZXR1cm4gdGVtcGxhdGUoZWwuYXBwbHkoc2VsZiwgYXJncyksIHNlbGYsIGFyZ3MpXG4gIH1cbiAgZWxzZSB7XG4gICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxuICAgIGRpdi5zZXRBdHRyaWJ1dGUoXCJjb21wb25lbnRcIiwgc2VsZi5jb25zdHJ1Y3Rvci5uYW1lKVxuICAgIGlmICh0eXBlb2YgZWwgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIGRpdi5pbm5lckhUTUwgPSBlbFxuICAgIH1cbiAgICByZXR1cm4gZGl2XG4gIH1cbn1cblxuZnVuY3Rpb24gZWxlbWVudHMgKGVsLCBzZWxmLCBhcmdzKSB7XG4gIGNvbnN0IGludG8gPSBzZWxmLnRlbXBsYXRlXG4gIGlmICh0eXBlb2YgZWwgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHJldHVybiBlbGVtZW50cyhlbC5hcHBseShzZWxmLCBhcmdzKSwgc2VsZiwgYXJncylcbiAgfVxuICBlbHNlIGlmICgodHlwZW9mIGVsID09PSBcIm9iamVjdFwiKSAmJiAoKGludG8pIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpKSB7XG4gICAgY29uc3QgcmVzdWx0ID0ge31cbiAgICBPYmplY3Qua2V5cyhlbCkuZm9yRWFjaCgobmFtZSkgPT4ge1xuICAgICAgaWYgKGVsW25hbWVdIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgcmVzdWx0W25hbWVdID0gW2VsW25hbWVdXVxuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBlbFtuYW1lXSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXN1bHRbbmFtZV0gPSBbLi4uaW50by5xdWVyeVNlbGVjdG9yQWxsKGVsW25hbWVdKV1cbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGVsW25hbWVdICYmIGVsW25hbWVdLmZvckVhY2gpIHtcbiAgICAgICAgcmVzdWx0W25hbWVdID0gZWxbbmFtZV1cbiAgICAgIH1cbiAgICB9KVxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuICBlbHNlIHtcbiAgICByZXR1cm4ge31cbiAgfVxufVxuXG5mdW5jdGlvbiBldmVudHMgKGVsLCBzZWxmLCBhcmdzKSB7XG4gIGlmICh0eXBlb2YgZWwgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHJldHVybiBldmVudHMoZWwuYXBwbHkoc2VsZiwgYXJncyksIHNlbGYsIGFyZ3MpXG4gIH1cbiAgZWxzZSBpZiAodHlwZW9mIGVsID09PSBcIm9iamVjdFwiKSB7XG4gICAgT2JqZWN0LmtleXMoZWwpLmZvckVhY2goKHBhaXIpID0+IHtcbiAgICAgIGNvbnN0IHNwbGl0ID0gcGFpci5zcGxpdChcIiBcIilcbiAgICAgIGlmICgodHlwZW9mIGVsW3BhaXJdID09PSBcInN0cmluZ1wiKSAmJiAoc3BsaXQubGVuZ3RoID4gMSkpIHtcbiAgICAgICAgY29uc3QgZXZzID0gc3BsaXQucG9wKClcbiAgICAgICAgY29uc3Qgc2VsZWN0b3JzID0gc3BsaXQuam9pbihcIiBcIilcbiAgICAgICAgZWxbcGFpcl0uc3BsaXQoXCIsXCIpLmZvckVhY2goKG1ldGhvZCkgPT4ge1xuICAgICAgICAgIGV2cy5zcGxpdChcIixcIikuZm9yRWFjaCgoZXZlbnROYW1lKSA9PiB7XG4gICAgICAgICAgICBzZWxlY3RvcnMuc3BsaXQoXCIsXCIpLmZvckVhY2goKHNlbGVjdG9yKSA9PiB7XG4gICAgICAgICAgICAgIGxldCBub2RlXG4gICAgICAgICAgICAgIGNvbnN0IGZuID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNlbGZbbWV0aG9kXS5hcHBseShzZWxmLCBhcmd1bWVudHMpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKGV2ZW50TmFtZSAmJiAodHlwZW9mIHNlbGZbbWV0aG9kXSA9PT0gXCJmdW5jdGlvblwiKSkge1xuICAgICAgICAgICAgICAgIGlmICgobm9kZSA9IHNlbGYuZWxlbWVudHNbc2VsZWN0b3JdKSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBmbilcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobm9kZSAmJiBub2RlLmZvckVhY2gpIHtcbiAgICAgICAgICAgICAgICAgIG5vZGUuZm9yRWFjaCgobikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBuLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBmbilcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNlbGYudGVtcGxhdGUgJiYgKG5vZGUgPSBzZWxmLnRlbXBsYXRlLnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpKSkge1xuICAgICAgICAgICAgICAgICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgZm4pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICBlbHNlIGlmICh0eXBlb2YgZWxbcGFpcl0gPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgY29uc3Qgc2VsZWN0b3JzID0gc3BsaXQuam9pbihcIiBcIilcbiAgICAgICAgT2JqZWN0LmtleXMoZWxbcGFpcl0pLmZvckVhY2goKGV2cykgPT4ge1xuICAgICAgICAgIGNvbnN0IG1ldGhvZCA9IGVsW3BhaXJdW2V2c11cbiAgICAgICAgICBpZiAodHlwZW9mIG1ldGhvZCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgZXZzLnNwbGl0KFwiLFwiKS5mb3JFYWNoKChldmVudE5hbWUpID0+IHtcbiAgICAgICAgICAgICAgc2VsZWN0b3JzLnNwbGl0KFwiLFwiKS5mb3JFYWNoKChzZWxlY3RvcikgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBub2RlXG4gICAgICAgICAgICAgICAgY29uc3QgZm4gPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBfYXJncyA9IFsuLi5hcmd1bWVudHNdXG4gICAgICAgICAgICAgICAgICBfYXJncy51bnNoaWZ0KHRoaXMpXG4gICAgICAgICAgICAgICAgICBzZWxmW21ldGhvZF0uYXBwbHkoc2VsZiwgX2FyZ3MpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChldmVudE5hbWUgJiYgKHR5cGVvZiBzZWxmW21ldGhvZF0gPT09IFwiZnVuY3Rpb25cIikpIHtcbiAgICAgICAgICAgICAgICAgIGlmICgobm9kZSA9IHNlbGYuZWxlbWVudHNbc2VsZWN0b3JdKSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGZuKVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobm9kZSAmJiBub2RlLmZvckVhY2gpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5mb3JFYWNoKChuKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgbi5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgZm4pXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBlbHNlIGlmIChzZWxmLnRlbXBsYXRlICYmIChub2RlID0gc2VsZi50ZW1wbGF0ZS5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgZm4pXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSlcbiAgfVxufVxuXG5cbi8qKlxuICogIEBjbGFzcyA8Q29tcG9uZW50PiBpcyB1c2VkIHRvIGJ1aWxkIERPTSBlbGVtZW50cywgZ2VuZXJhdGluZyBkYXRhLCB0ZW1wbGF0ZSAmIGV2ZW50cy5cbiAqICAgIEEgY29tcG9uZW50IGNhbiBjb250YWluIG90aGVyIGNvbXBvbmVudHMuXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29tcG9uZW50IHtcblxuICAvKipcbiAgICogQG1ldGhvZCA8Y29uc3RydWN0b3I+IGJ1aWxkIHRoaXMgb2JqZWN0XG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR8U3RyaW5nfEZ1bmN0aW9ufSBjb250YWluZXIgd2lsbCBjb250YWluIHRoaXMgY29tcG9uZW50XG4gICAqIEBwYXJhbSB7Kn0gYXJndW1lbnRzLi4uIGFyZSBwYXNzZWQgaW4gdGVtcGxhdGUsIGVsZW1lbnRzIGFuZCBldmVudHMgZnVuY3Rpb25zXG4gICAqIEByZXR1cm4ge0NvbXBvbmVudH0gc2VsZlxuICAgKi9cblxuICBjb25zdHJ1Y3RvciAoKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2J1aWxkZXJcIiwge1xuICAgICAgXCJlbnVtZXJhYmxlXCI6IGZhbHNlLFxuICAgICAgXCJjb25maWd1cmFibGVcIjogZmFsc2UsXG4gICAgICBcInZhbHVlXCI6IHtcbiAgICAgICAgdGVtcGxhdGU6IHRoaXMudGVtcGxhdGUsXG4gICAgICAgIGVsZW1lbnRzOiB0aGlzLmVsZW1lbnRzLFxuICAgICAgICBldmVudHM6IHRoaXMuZXZlbnRzXG4gICAgICB9XG4gICAgfSlcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9fZXZlbnRzX19cIiwge1xuICAgICAgXCJlbnVtZXJhYmxlXCI6IGZhbHNlLFxuICAgICAgXCJjb25maWd1cmFibGVcIjogZmFsc2UsXG4gICAgICBcInZhbHVlXCI6IHt9XG4gICAgfSlcblxuICAgIHRoaXMuc2V0VGVtcGxhdGUoLi4uW251bGwsIC4uLmFyZ3VtZW50c10pXG4gIH1cblxuXG4gIC8qKlxuICAgKiBAbWV0aG9kIDxzZXRUZW1wbGF0ZT4gYnVpbGQgdGhlIERPTSBvZiB0aGlzIENvbXBvbmVudCwgdGhlbiBsaXN0IGVsZW1lbnRzLFxuICAgKiAgICBmaW5hbGx5IGxpbmsgZWxlbWVudHMgd2l0aCBldmVudHMgZnVuY3Rpb25zXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR8RnVuY3Rpb258U3RyaW5nfSBkb20gaXMgdGhlIEhUTUwgb2YgdGhpcyBjb21wb25lbnRcbiAgICogQHBhcmFtIHsqfSBhcmd1bWVudHMuLi4gYXJlIHBhc3NlZCBpbiB0ZW1wbGF0ZSwgZWxlbWVudHMgYW5kIGV2ZW50cyBmdW5jdGlvbnNcbiAgICogQHJldHVybiB7Q29tcG9uZW50fSBzZWxmXG4gICAqL1xuXG4gIHNldFRlbXBsYXRlICgpIHtcbiAgICBjb25zdCBbZG9tLCAuLi5hcmdzXSA9IFsuLi5hcmd1bWVudHNdLFxuICAgICAgdHBsID0gdGVtcGxhdGUoZG9tIHx8IHRoaXMuX2J1aWxkZXIudGVtcGxhdGUsIHRoaXMsIGFyZ3MpXG4gICAgaWYgKHRwbCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICB0aGlzLnRlbXBsYXRlID0gdHBsXG4gICAgICB0aGlzLmVsZW1lbnRzID0gZWxlbWVudHModGhpcy5fYnVpbGRlci5lbGVtZW50cywgdGhpcywgYXJncylcbiAgICAgIGV2ZW50cyh0aGlzLl9idWlsZGVyLmV2ZW50cywgdGhpcywgYXJncylcbiAgICB9XG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG5cbiAgLyoqXG4gICAqIEBtZXRob2QgPHNldENvbnRhaW5lcj4gc2V0IGZpcnN0IHBhcmFtZXRlciBhcyBwYXJlbnQgb2YgdGhpcyBjb21wb25lbnRcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudHxTdHJpbmd8RnVuY3Rpb259IGVsZW1lbnQgd2lsbCBjb250YWluIHRoaXMgY29tcG9uZW50XG4gICAqIEBwYXJhbSB7Kn0gYXJndW1lbnRzLi4uIGFyZSBwYXNzZWQgaW4gdGVtcGxhdGUsIGVsZW1lbnRzIGFuZCBldmVudHMgZnVuY3Rpb25zXG4gICAqIEByZXR1cm4ge0NvbXBvbmVudH0gc2VsZlxuICAgKi9cblxuICBzZXRDb250YWluZXIgKGVsZW1lbnQpIHtcbiAgICBjb25zdCBjb250ID0gY29udGFpbmVyKGVsZW1lbnQsIHRoaXMsIGFyZ3VtZW50cylcbiAgICBpZiAoY29udCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRcbiAgICAgIGlmICh0aGlzLnRlbXBsYXRlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy50ZW1wbGF0ZSlcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG5cbiAgLy8gQ0hJTEQgQ09NUE9ORU5UUyBNQU5BR0VSXG5cbiAgLyoqXG4gICAqIEBtZXRob2QgPGNsZWFyRWxlbWVudD4gY2xlYXIgYW4gSFRNTCBlbGVtZW50IG9mIHRoaXMgQ29tcG9uZW50XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIGlzIHRoZSBuYW1lIG9mIHRoZSBIVE1MIGVsZW1lbnRcbiAgICogQHJldHVybiB7Q29tcG9uZW50fSBzZWxmXG4gICAqIEB0aHJvd3Mge0Vycm9yfSBpZiB0aGUgbmFtZSBkb2VzIG5vdCBtYXRjaCBhbiBlbGVtZW50XG4gICAqL1xuXG4gIGNsZWFyRWxlbWVudCAobmFtZSkge1xuICAgIGxldCBlbGVtZW50XG4gICAgaWYgKHRoaXMuZWxlbWVudHNbbmFtZV0gJiYgKFtlbGVtZW50XSA9IHRoaXMuZWxlbWVudHNbbmFtZV0pKSB7XG4gICAgICB3aGlsZSAoZWxlbWVudC5maXJzdENoaWxkKVxuICAgICAgICBlbGVtZW50LnJlbW92ZUNoaWxkKGVsZW1lbnQuZmlyc3RDaGlsZClcbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBFbGVtZW50IFwiJHtuYW1lfVwiIGlzIG5vdCBhbiBlbGVtZW50IG9mIHRoaXMgY29tcG9uZW50YClcbiAgICB9XG4gIH1cblxuXG4gIC8qKlxuICAgKiBAbWV0aG9kIDxhcHBlbmRDb21wb25lbnQ+IGFwcGVuZCBhIENvbXBvbmVudCBpbiB0aGlzIENvbXBvbmVudCBIVE1MIGVsZW1lbnRcbiAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgaXMgdGhlIG5hbWUgb2YgdGhlIEhUTUwgZWxlbWVudFxuICAgKiBAcGFyYW0ge0NvbXBvbmVudH0gY29tcG9uZW50IGlzIHRoZSBDb21wb25lbnQgdG8gYXBwZW5kIGluIHRoZSBIVE1MIGVsZW1lbnRcbiAgICogQHJldHVybiB7Q29tcG9uZW50fSBzZWxmXG4gICAqIEB0aHJvd3Mge0Vycm9yfSBpZiB0aGUgbmFtZSBkb2VzIG5vdCBtYXRjaCBhbiBlbGVtZW50IG9yIGlmIHRoZSBjb21wb25lbnRcbiAgICogICAgaXMgbm90IGEgQ29tcG9uZW50IGluc3RhbmNlLlxuICAgKi9cblxuICBhcHBlbmRDb21wb25lbnQgKG5hbWUsIGNvbXBvbmVudCkge1xuICAgIGxldCBlbGVtZW50XG4gICAgaWYgKHRoaXMuZWxlbWVudHNbbmFtZV0gJiYgKFtlbGVtZW50XSA9IHRoaXMuZWxlbWVudHNbbmFtZV0pKSB7XG4gICAgICBpZiAoY29tcG9uZW50IGluc3RhbmNlb2YgQ29tcG9uZW50KSB7XG4gICAgICAgIGNvbXBvbmVudC5zZXRDb250YWluZXIoZWxlbWVudClcbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTZWNvbmQgcGFyYW1ldGVyIGlzIG5vdCBhIENvbXBvbmVudCBvYmplY3RcIilcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEVsZW1lbnQgXCIke25hbWV9XCIgaXMgbm90IGFuIGVsZW1lbnQgb2YgdGhpcyBjb21wb25lbnRgKVxuICAgIH1cbiAgfVxuXG5cbiAgLyoqXG4gICAqIEBtZXRob2QgPGZpbGxDb21wb25lbnQ+IHNldCBjb21wb25lbnQgYXMgb25seSBjaGlsZCBvZiBIVE1MIGVsZW1lbnQgb2YgdGhpc1xuICAgKiAgICBieSBjbGVhcmluZyB0aGVuIGFwcGVuZGluZyBDb21wb25lbnQuXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIGlzIHRoZSBuYW1lIG9mIHRoZSBIVE1MIGVsZW1lbnRcbiAgICogQHBhcmFtIHtDb21wb25lbnR9IGNvbXBvbmVudCBpcyB0aGUgQ29tcG9uZW50IHRvIGFwcGVuZCBpbiB0aGUgSFRNTCBlbGVtZW50XG4gICAqIEByZXR1cm4ge0NvbXBvbmVudH0gc2VsZlxuICAgKiBAdGhyb3dzIHtFcnJvcn0gaWYgdGhlIG5hbWUgZG9lcyBub3QgbWF0Y2ggYW4gZWxlbWVudCBvciBpZiB0aGUgY29tcG9uZW50XG4gICAqICAgIGlzIG5vdCBhIENvbXBvbmVudCBpbnN0YW5jZS5cbiAgICovXG5cbiAgZmlsbENvbXBvbmVudCAobmFtZSwgY29tcG9uZW50KSB7XG4gICAgcmV0dXJuIHRoaXMuY2xlYXJFbGVtZW50KG5hbWUpLmFwcGVuZENvbXBvbmVudChuYW1lLCBjb21wb25lbnQpXG4gIH1cblxuXG4gIC8vIFRFTVBMQVRFIEJVSUxERVJTXG5cbiAgLyoqXG4gICAqIEBtZXRob2QgPHRlbXBsYXRlPiBzaG91bGQgYmUgb3ZlcnJpZGVuIGFuZCBzaG91bGQgcmV0dXJuIHRleHQgaW4gSFRNTFxuICAgKiAgICBmb3JtYXQgb3IgYW4gSFRNTEVsZW1lbnQuXG4gICAqIEBwYXJhbSB7Kn0gYXJndW1lbnRzLi4uIGFyZSB0cmFuc2ZlcmVkIGZyb20gPGNvbnN0cnVjdG9yPlxuICAgKiBAcmV0dXJuIHtTdHJpbmd8SFRNTEVsZW1lbnR8ZnVuY3Rpb259XG4gICAqL1xuXG4gIHRlbXBsYXRlICgpIHtcbiAgICByZXR1cm4gXCJcIlxuICB9XG5cblxuICAvKipcbiAgICogQG1ldGhvZCA8ZWxlbWVudHM+IHNob3VsZCBiZSBvdmVycmlkZW4gYW5kIHNob3VsZCByZXR1cm4gb2JqZWN0IHdoZXJlIGtleXNcbiAgICogICAgYXJlIHRoZSBuYW1lLCBhbmQgdGhlIHZhbHVlcyBhcmUgdGhlIHNlbGVjdG9yIGluIHRoaXMgY29tcG9uZW50IChub3RcbiAgICogICAgaXRzIGNoaWxkcmVuISkuXG4gICAqIEBwYXJhbSB7Kn0gYXJndW1lbnRzLi4uIGFyZSB0cmFuc2ZlcmVkIGZyb20gPGNvbnN0cnVjdG9yPlxuICAgKiBAcmV0dXJuIHtPYmplY3R8ZnVuY3Rpb259XG4gICAqIEB3YXJuIHRoaXMgZnVuY3Rpb24gZG9lcyBub3Qgc2VsZWN0IGNoaWxkIGNvbXBvbmVudHMgZWxlbWVudHMuXG4gICAqL1xuXG4gIGVsZW1lbnRzICgpIHtcbiAgICByZXR1cm4ge31cbiAgfVxuXG5cbiAgLyoqXG4gICAqIEBtZXRob2QgPGVsZW1lbnRzPiBzaG91bGQgYmUgb3ZlcnJpZGVuIGFuZCBzaG91bGQgcmV0dXJuIG9iamVjdCB3aGVyZSBrZXlzXG4gICAqICAgIGFyZSB0aGUgbmFtZSBzcGFjZWQgd2l0aCBldmVudCwgYW5kIHRoZSB2YWx1ZXMgYXJlIHRoZSBjb21wb25lbnQgbWV0aG9kc1xuICAgKiAgICB0byBjYWxsIHdoZW4gZXZlbnQgaXMgdHJpZ2dlcmVkIChub3QgaXRzIGNoaWxkcmVuISkuXG4gICAqIEBwYXJhbSB7Kn0gYXJndW1lbnRzLi4uIGFyZSB0cmFuc2ZlcmVkIGZyb20gPGNvbnN0cnVjdG9yPlxuICAgKiBAcmV0dXJuIHtPYmplY3R8ZnVuY3Rpb259XG4gICAqL1xuXG4gIGV2ZW50cyAoKSB7XG4gICAgcmV0dXJuIHt9XG4gIH1cblxuXG4gIC8vIEVYVEVSTkFMIEVWRU5UU1xuXG4gIC8qKlxuICAgKiBAbWV0aG9kIDxsaXN0ZW4+IGxpc3RlbiBhbiBldmVudCAke2V2ZW50TmFtZX0gaGFwcGVuaW5nIGFuZCByZWdpc3RlciB0aGVcbiAgICogICAgZnVuY3Rpb24gJHtmbn0gdG8gZXhlY3V0ZSBpdCB3aGVuIGV2ZW50IGhhcHBlbi5cbiAgICogQHBhcmFtIHtzdHJpbmd8QXJyYXl9IGV2ZW50TmFtZVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufEFycmF5fSBmblxuICAgKiBAcmV0dXJuIHtDb21wb25lbnR9IHNlbGZcbiAgICovXG5cbiAgbGlzdGVuIChldmVudE5hbWUsIGZuKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXNcbiAgICBpZiAodHlwZW9mIGV2ZW50TmFtZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgY29uc3QgdCA9IGV2ZW50TmFtZS5zcGxpdCgvW1xcblxccyxdKy9nKVxuICAgICAgaWYgKHQubGVuZ3RoID4gMSkge1xuICAgICAgICByZXR1cm4gdGhpcy5saXN0ZW4oWy4uLnRdLCBmbilcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheShldmVudE5hbWUpKSB7XG4gICAgICBldmVudE5hbWUuZm9yRWFjaCgoZXYpID0+IHtcbiAgICAgICAgc2VsZi5saXN0ZW4oZXYsIGZuKVxuICAgICAgfSlcbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuICAgIGlmIChBcnJheS5pc0FycmF5KGZuKSkge1xuICAgICAgZm4uZm9yRWFjaCgoZikgPT4ge1xuICAgICAgICBzZWxmLmxpc3RlbihldmVudE5hbWUsIGYpXG4gICAgICB9KVxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGZuID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIGNvbnN0IGV2cyA9IHRoaXNbXCJfX2V2ZW50c19fXCJdXG4gICAgICBpZiAoIUFycmF5LmlzQXJyYXkoZXZzW2V2ZW50TmFtZV0pKSB7XG4gICAgICAgIGV2c1tldmVudE5hbWVdID0gW11cbiAgICAgIH1cbiAgICAgIGV2c1tldmVudE5hbWVdLnB1c2goZm4pXG4gICAgfVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8qKlxuICAgKiBAbWV0aG9kIDxkaXNwYXRjaD4gdHJpZ2dlciBhbiBldmVudCAke2V2ZW50TmFtZX0gaGFwcGVuaW5nIGFuZCBleGVjdXRlIHRoZVxuICAgKiAgICByZWdpc3RlcmVkIGZ1bmN0aW9ucy5cbiAgICogQHBhcmFtIHtzdHJpbmd8QXJyYXl9IGV2ZW50TmFtZVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBhcmdzXG4gICAqIEByZXR1cm4ge0NvbXBvbmVudH0gc2VsZlxuICAgKi9cblxuICBkaXNwYXRjaCAoZXZlbnROYW1lLCBhcmdzKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXNcbiAgICBpZiAodHlwZW9mIGV2ZW50TmFtZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgY29uc3QgdCA9IGV2ZW50TmFtZS5zcGxpdCgvW1xcblxccyxdKy9nKVxuICAgICAgaWYgKHQubGVuZ3RoID4gMSkge1xuICAgICAgICByZXR1cm4gdGhpcy5saXN0ZW4oWy4uLnRdLCBhcmdzKVxuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KGV2ZW50TmFtZSkpIHtcbiAgICAgIGV2ZW50TmFtZS5mb3JFYWNoKChldikgPT4ge1xuICAgICAgICBzZWxmLmxpc3RlbihldiwgYXJncylcbiAgICAgIH0pXG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIGNvbnN0IGV2cyA9IHRoaXNbXCJfX2V2ZW50c19fXCJdXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGV2c1tldmVudE5hbWVdKSkge1xuICAgICAgZXZzW2V2ZW50TmFtZV0gPSBbXVxuICAgIH1cbiAgICBldnNbZXZlbnROYW1lXS5mb3JFYWNoKChmbikgPT4ge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYXJncykpIHtcbiAgICAgICAgZm4uYXBwbHkobnVsbCwgYXJncylcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBmbigpXG4gICAgICB9XG4gICAgfSlcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cblxuICAvKipcbiAgICogQG1ldGhvZCA8ZGV0YWNoPiByZW1vdmUgdGhlIHJlZ2lzdGVyZWQgZnVuY3Rpb24gJHtmbn0gbGlzdGVuZWQgYnkgZXZlbnRcbiAgICogICAgJHtldmVudE5hbWV9LCBvciBhbGwgb2YgaXRzIGZ1bmN0aW9ucyBpZiAke2ZufSBpcyB1bmRlZmluZWRcbiAgICogQHBhcmFtIHtzdHJpbmd8QXJyYXl9IGV2ZW50TmFtZVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufEFycmF5fSBmblxuICAgKiBAcmV0dXJuIHtDb21wb25lbnR9IHNlbGZcbiAgICovXG5cbiAgZGV0YWNoIChldmVudE5hbWUsIGZuKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXNcbiAgICBpZiAodHlwZW9mIGV2ZW50TmFtZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgY29uc3QgdCA9IGV2ZW50TmFtZS5zcGxpdCgvW1xcblxccyxdKy9nKVxuICAgICAgaWYgKHQubGVuZ3RoID4gMSkge1xuICAgICAgICByZXR1cm4gdGhpcy5saXN0ZW4oWy4uLnRdLCBmbilcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheShldmVudE5hbWUpKSB7XG4gICAgICBldmVudE5hbWUuZm9yRWFjaCgoZXYpID0+IHtcbiAgICAgICAgc2VsZi5saXN0ZW4oZXYsIGZuKVxuICAgICAgfSlcbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuICAgIGlmIChBcnJheS5pc0FycmF5KGZuKSkge1xuICAgICAgZm4uZm9yRWFjaCgoZikgPT4ge1xuICAgICAgICBzZWxmLmxpc3RlbihldmVudE5hbWUsIGYpXG4gICAgICB9KVxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICBjb25zdCBldnMgPSB0aGlzW1wiX19ldmVudHNfX1wiXVxuICAgIGlmICghQXJyYXkuaXNBcnJheShldnNbZXZlbnROYW1lXSkpIHtcbiAgICAgIGV2c1tldmVudE5hbWVdID0gW11cbiAgICB9XG4gICAgaWYgKGZuID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGV2c1tldmVudE5hbWVdID0gW11cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBldnNbZXZlbnROYW1lXSA9IGV2c1tldmVudE5hbWVdLnNsaWNlKGV2c1tldmVudE5hbWVdLmluZGV4T2YoZm4pKVxuICAgIH1cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cblxuICAvKipcbiAgICogQG1ldGhvZCA8bGlzdGVuT25jZT4gbGlzdGVuIGV2ZW50ICR7ZXZlbnROYW1lfSBoYXBwZW5pbmcgZm9yIGV4ZWN1dGluZ1xuICAgKiAgICBmdW5jdGlvbiAke2ZufSBvbmx5IG9uZSB0aW1lLlxuICAgKiBAcGFyYW0ge3N0cmluZ3xBcnJheX0gZXZlbnROYW1lXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb258QXJyYXl9IGZuXG4gICAqIEByZXR1cm4ge0NvbXBvbmVudH0gc2VsZlxuICAgKi9cblxuICBsaXN0ZW5PbmNlIChldmVudE5hbWUsIGZuKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXMsXG4gICAgICBkZWwgPSAoKSA9PiB7XG4gICAgICAgIHNlbGYuZGV0YWNoKGV2ZW50TmFtZSwgZm4pXG4gICAgICAgIHNlbGYuZGV0YWNoKGV2ZW50TmFtZSwgZGVsKVxuICAgICAgfVxuICAgIHRoaXMubGlzdGVuKGV2ZW50TmFtZSwgZm4pXG4gICAgdGhpcy5saXN0ZW4oZXZlbnROYW1lLCBkZWwpXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxufVxuIiwiaW1wb3J0IENvbXBvbmVudCBmcm9tIFwiLi9jb21wb25lbnRcIlxuaW1wb3J0IFBhZ2UgZnJvbSBcIi4vcGFnZVwiXG5cbi8qKlxuICogQGNsYXNzIDxTZWN0aW9uPiBpcyBhIENvbXBvbmVudCB3aGljaCBzaG91bGQgYmUgb25seSBjaGlsZCBvZiBhIHBhZ2UgKHdoaWNoXG4gKiAgICBpcyB0aGUgb25seSBjaGlsZCBvZiBEb2N1bWVudCBib2R5KSBhdCB0aW1lLlxuICogQHdhcm4gU2VjdGlvbi53cmFwcGVyKCkgc2hvdWxkIHJldHVybiBhIFBhZ2UgY29uc3RydWN0b3IsIGVsc2Ugbm90aGluZyBpc1xuICogICAgZGlzcGxheWVkLlxuICovXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24gZXh0ZW5kcyBDb21wb25lbnQge1xuXG5cbiAgLyoqXG4gICAqIEBtZXRob2QgPGNvbnN0cnVjdG9yPlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBpcyB0cmFuc2ZlcmVkIHRvIFNlY3Rpb24udGVtcGxhdGUsIFNlY3Rpb24uZWxlbWVudHNcbiAgICogICAgYW5kIFNlY3Rpb24uZXZlbnRzLlxuICAgKiBAcmV0dXJuIHtTZWN0aW9ufSBzZWxmXG4gICAqL1xuXG4gIGNvbnN0cnVjdG9yICgpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpXG4gICAgdGhpcy50ZW1wbGF0ZS5zZXRBdHRyaWJ1dGUoXCJzZWN0aW9uXCIsIHRoaXMudGVtcGxhdGUuZ2V0QXR0cmlidXRlKFwiY29tcG9uZW50XCIpKVxuICAgIHRoaXMudGVtcGxhdGUucmVtb3ZlQXR0cmlidXRlKFwiY29tcG9uZW50XCIpXG4gIH1cblxuXG4gIC8qKlxuICAgKiBAbWV0aG9kIDxzZXRTZWN0aW9uPiBzZXQgdGhpcyBzZWN0aW9uIGluIERvY3VtZW50IGFzIG9ubHkgY2hpbGQgb2YgYSBQYWdlXG4gICAqICAgIGFuZCBQYWdlIGluc3RhbmNlIGFzIG9ubHkgY2hpbGQgb2YgRG9jdW1lbnQgYm9keS5cbiAgICogQHJldHVybiB7U2VjdGlvbn0gc2VsZlxuICAgKi9cblxuICBzZXRTZWN0aW9uICgpIHtcbiAgICBjb25zdCBwYWdlID0gdGhpcy5nZXRXcmFwcGVyKClcbiAgICBpZiAocGFnZSkge1xuICAgICAgcGFnZS5zZXRQYWdlKHRoaXMpXG4gICAgICB0aGlzLl9idWlsZGVyLndyYXBwZXIgPSBwYWdlXG4gICAgfVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8qKlxuICAgKiBAbWV0aG9kIDxnZXRXcmFwcGVyPiByZXR1cm5zIHNlY3Rpb24gd3JhcHBlciBjb21wb25lbnQsIGEgUGFnZSBpbnN0YW5jZVxuICAgKiBAcmV0dXJuIHtQYWdlfSBhIGNvbXBvbmVudCB3aGljaCB3cmFwIHRoaXMgc2VjdGlvblxuICAgKi9cblxuICBnZXRXcmFwcGVyICgpIHtcbiAgICBpZiAoIXRoaXMuX2J1aWxkZXIud3JhcHBlcikge1xuICAgICAgdGhpcy5fYnVpbGRlci53cmFwcGVyID0gUGFnZS5nZXRQYWdlQnlDb25zdHJ1Y3Rvcih0aGlzLndyYXBwZXIoKSlcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2J1aWxkZXIud3JhcHBlclxuICB9XG5cbiAgLyoqXG4gICAqIEBtZXRob2QgPHdyYXBwZXI+IHNob3VsZCBiZSBvdmVycmlkZW4gYW5kIHNob3VsZCByZXR1cm4gYSBQYWdlIGNoaWxkIGNsYXNzXG4gICAqICAgIGNvbnN0cnVjdG9yLlxuICAgKiBAcmV0dXJuIHtQYWdlfSB3aGljaCB3aWxsIHdyYXAgdGhpcyBzZWN0aW9uXG4gICAqL1xuXG4gIHdyYXBwZXIgKCkge1xuICAgIHJldHVybiBudWxsXG4gIH1cbn1cbiIsImltcG9ydCBDb21wb25lbnQgZnJvbSBcIi4vY29tcG9uZW50XCJcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuL3NlY3Rpb25cIlxuXG4vKipcbiAqIEBjbGFzcyA8UGFnZT4gaXMgYSBDb21wb25lbnQgd2hpY2ggaXMgc2V0IGFzIG9ubHkgY2hpbGQgb2YgRG9jdW1lbnQgYm9keSBhdFxuICogICAgdGltZS4gQSBzZWN0aW9uIGlzIGRlZmluZWQgd2l0aCBhIFBhZ2UsIHNvIHdoZW4gYSBzZWN0aW9uIGlzIGNhbGxlZCwgdGhlXG4gKiAgICBwYWdlIHdyYXAgdGhlIG9ubHkgY2hpbGQgc2VjdGlvbiBpbiB0aGUgcGFnZS4gSXQgc2ltcGxpZnkgdGhlIGNvbnN0cnVjdGlvblxuICogICAgb2YgdGhlIERPTS5cbiAqIEB3YXJuIFBhZ2UuZWxlbWVudHMgc2hvdWxkIGNvbnRhaW4gXCJzZWN0aW9uXCIgZWxlbWVudFxuICogQGFkdmlzZSBBIHNpbmdsZSBjaGlsZCBjbGFzcyBvZiBQYWdlIGluc3RhbmNlIHNob3VsZCBleGlzdHMgc28gcGxlYXNlXG4gKiAgICBjYWxsIFBhZ2UuZ2V0UGFnZUJ5Q29uc3RydWN0b3IocGFnZSkgaW4gc2VjdGlvbi5cbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYWdlIGV4dGVuZHMgQ29tcG9uZW50IHtcblxuICAvKipcbiAgICogQG1ldGhvZCA8Y29uc3RydWN0b3I+IGF0IGNvbnN0cnVjdGlvbiBvZiB0aGlzIFBhZ2UsIHRoZSBwYWdlIGZpbGwgdGhlXG4gICAqICAgIERvY3VtZW50IGJvZHkgYXMgb25seSBjaGlsZC5cbiAgICogQHJldHVybiB7UGFnZX0gc2VsZlxuICAgKi9cblxuICBjb25zdHJ1Y3RvciAoKSB7XG4gICAgc3VwZXIoUGFnZS5jb250YWluZXIpXG4gICAgdGhpcy50ZW1wbGF0ZS5zZXRBdHRyaWJ1dGUoXCJwYWdlXCIsIHRoaXMudGVtcGxhdGUuZ2V0QXR0cmlidXRlKFwiY29tcG9uZW50XCIpKVxuICAgIHRoaXMudGVtcGxhdGUucmVtb3ZlQXR0cmlidXRlKFwiY29tcG9uZW50XCIpXG4gICAgUGFnZS5pbnN0YW5jZXNbdGhpcy5jb25zdHJ1Y3Rvci5uYW1lXSA9IHRoaXNcbiAgfVxuXG5cbiAgLyoqXG4gICAqIEBtZXRob2QgPHNldFNlY3Rpb24+IGZpbGwgdGhpcyBwYWdlIHdpdGggYSBTZWN0aW9uXG4gICAqIEBwYXJhbSB7U2VjdGlvbn0gc2VjdGlvblxuICAgKiBAcmV0dXJuIHtQYWdlfSBzZWxmXG4gICAqL1xuXG4gIHNldFNlY3Rpb24gKHNlY3Rpb24pIHtcbiAgICBpZiAoc2VjdGlvbiBpbnN0YW5jZW9mIFNlY3Rpb24pIHtcbiAgICAgIHRoaXMuZmlsbENvbXBvbmVudChcInNlY3Rpb25cIiwgc2VjdGlvbilcbiAgICB9XG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG5cbiAgLyoqXG4gICAqIEBtZXRob2QgPHNldFBhZ2U+IHNldCB0aGlzIHBhZ2UgYXMgb25seSBwYWdlIHdyYXBwZXIgb24gdGhpcyBEb2N1bWVudCBib2R5XG4gICAqICAgIGFuZCBzZXQgYSBzZWN0aW9uIGlmIHNldCBpbiBwYXJhbWV0ZXIuXG4gICAqIEBwYXJhbSB7U2VjdGlvbn0gc2VjdGlvblxuICAgKi9cblxuICBzZXRQYWdlIChzZWN0aW9uKSB7XG4gICAgaWYgKFBhZ2UucGFnZSAhPT0gdGhpcykge1xuICAgICAgY29uc3QgaW50byA9IFBhZ2UuY29udGFpbmVyXG4gICAgICB3aGlsZSAoaW50by5maXJzdENoaWxkKVxuICAgICAgICBpbnRvLnJlbW92ZUNoaWxkKGludG8uZmlyc3RDaGlsZClcbiAgICAgIHRoaXMuc2V0Q29udGFpbmVyKGludG8pXG4gICAgICBQYWdlLnBhZ2UgPSB0aGlzXG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNldFNlY3Rpb24oc2VjdGlvbilcbiAgfVxuXG5cbiAgLyoqXG4gICAqIEBmdW5jdGlvbiA8c2V0Q29udGFpbmVyPiBzZXQgdGhlIGNvbnRhaW5lciB3aGVyZSBldmVyeSBwYWdlcyBzaG91bGQgYmVcbiAgICogICAgZmlsbGVkIGluLlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fEZ1bmN0aW9ufFN0cmluZ30gaW50b1xuICAgKi9cblxuICBzdGF0aWMgc2V0Q29udGFpbmVyIChpbnRvKSB7XG4gICAgaWYgKHR5cGVvZiBpbnRvID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHJldHVybiBQYWdlLnNldENvbnRhaW5lcihpbnRvKCkpXG4gICAgfVxuICAgIGlmICh0eXBlb2YgaW50byA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgaW50byA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaW50bylcbiAgICB9XG4gICAgaWYgKGludG8gaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgUGFnZS5jb250YWluZXIgPSBpbnRvXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgUGFnZS5jb250YWluZXIgPSBQYWdlLmNvbnRhaW5lciB8fCBkb2N1bWVudC5ib2R5XG4gICAgfVxuXG4gICAgaWYgKFBhZ2UucGFnZSkge1xuICAgICAgUGFnZS5wYWdlLnNldENvbnRhaW5lcihpbnRvKVxuICAgIH1cbiAgfVxuXG5cbiAgLyoqXG4gICAqIEBmdW5jdGlvbiA8Z2V0Q3VycmVudFBhZ2U+IHJldHVybnMgbGFzdCBwYWdlIHNldCBpbiBib2R5XG4gICAqIEByZXR1cm4ge1BhZ2V9XG4gICAqL1xuXG4gIHN0YXRpYyBnZXRDdXJyZW50UGFnZSAoKSB7XG4gICAgcmV0dXJuIFBhZ2UucGFnZVxuICB9XG5cblxuICAvKipcbiAgICogQGZ1bmN0aW9uIDxnZXRQYWdlQnlDb25zdHJ1Y3Rvcj4gcmV0dXJucyBhIFBhZ2UgaW5zdGFuY2Ugb2YgJHtDb25zdHJ9IGlmIGl0XG4gICAqICAgIGV4aXN0cyBvciBhIG5ldyBpbnN0YW5jZS5cbiAgICogQHBhcmFtIHtQYWdlfSBDb25zdHJcbiAgICogQHJldHVybiB7UGFnZX1cbiAgICovXG5cbiAgc3RhdGljIGdldFBhZ2VCeUNvbnN0cnVjdG9yIChDb25zdHIpIHtcbiAgICBjb25zdCBpbnN0ID0gUGFnZS5pbnN0YW5jZXNbQ29uc3RyLm5hbWVdXG4gICAgaWYgKGluc3QgaW5zdGFuY2VvZiBQYWdlKSB7XG4gICAgICByZXR1cm4gaW5zdFxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHJldHVybiBuZXcgQ29uc3RyKClcbiAgICB9XG4gIH1cbn1cblxuUGFnZS5pbnN0YW5jZXMgPSB7fVxuUGFnZS5jb250YWluZXIgPSBudWxsXG4iLCJmdW5jdGlvbiBnZXRDdXN0b21DaGlsZHJlbiAobm9kZSkge1xuICByZXR1cm4gWy4uLm5vZGUucXVlcnlTZWxlY3RvckFsbChPYmplY3Qua2V5cyhERUZJTkVTKS5qb2luKFwiLFwiKS50b1VwcGVyQ2FzZSgpKV1cbn1cblxuZnVuY3Rpb24gdGVzdCAobm9kZSkge1xuICBjb25zdCBEZWYgPSBERUZJTkVTW25vZGUubm9kZU5hbWUudG9VcHBlckNhc2UoKV1cbiAgaWYgKERFRklORUQuaW5kZXhPZihub2RlKSAhPT0gLTEpIHtcbiAgICByZXR1cm5cbiAgfVxuICBlbHNlIGlmIChEZWYpIHtcbiAgICBuZXcgRGVmKG5vZGUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3XG4gICAgY29uc3QgY2hpbGRyZW4gPSBnZXRDdXN0b21DaGlsZHJlbihub2RlKVxuICAgIGlmIChjaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgIGNoaWxkcmVuLmZvckVhY2goKGNoaWxkKSA9PiB7XG4gICAgICAgIGNoaWxkLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsICgpID0+IHtcbiAgICAgICAgICBpZiAoIWNoaWxkcmVuLmZpbHRlcigoX2NoaWxkKSA9PiB7IHJldHVybiBERUZJTkVELmluZGV4T2YoX2NoaWxkKSA9PT0gLTEgfSkubGVuZ3RoKSB7XG4gICAgICAgICAgICBERUZJTkVELnB1c2gobm9kZSlcbiAgICAgICAgICAgIG5vZGUuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoXCJsb2FkXCIpKVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgREVGSU5FRC5wdXNoKG5vZGUpXG4gICAgICBub2RlLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KFwibG9hZFwiKSlcbiAgICB9XG4gIH1cblxuICBpZiAobm9kZS5jaGlsZE5vZGVzLmxlbmd0aCkge1xuICAgIG5vZGUuY2hpbGROb2Rlcy5mb3JFYWNoKHRlc3QpXG4gIH1cbn1cblxuZnVuY3Rpb24gb25sb2FkICgpIHtcbiAgY29uc3QgbW8gPSBuZXcgTXV0YXRpb25PYnNlcnZlcigobXV0YXRpb25zKSA9PiB7XG4gICAgbXV0YXRpb25zLmZvckVhY2goKG11dGF0aW9uKSA9PiB7XG4gICAgICBtdXRhdGlvbi5hZGRlZE5vZGVzLmZvckVhY2godGVzdClcbiAgICB9KVxuICB9KVxuXG4gIGNvbnN0IGNuZiA9IHtcbiAgICBhdHRyaWJ1dGVzOiB0cnVlLFxuICAgIGNoaWxkTGlzdDogdHJ1ZSxcbiAgICBjaGFyYWN0ZXJEYXRhOiB0cnVlLFxuICAgIHN1YnRyZWU6IHRydWVcbiAgfVxuXG4gIG1vLm9ic2VydmUoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImh0bWxcIiksIGNuZilcbn1cblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIG9ubG9hZClcbmlmICh3aW5kb3cuZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gXCJjb21wbGV0ZVwiKSB7XG4gIG9ubG9hZCgpXG59XG5cblxuY29uc3QgREVGSU5FUyA9IHt9XG5jb25zdCBERUZJTkVEID0gW11cblxuLyoqXG4gKiBAZnVuY3Rpb24gPGRlZmluZT4gcnVuIGEgZnVuY3Rpb24gJHtidWlsZGVyfSBlYWNoICR7bm9kZU5hbWV9IGZpcnN0IGluc2VydGlvblxuICogICAgaW4gY3VycmVudCBIVE1MIERvY3VtZW50LlxuICogQHBhcmFtIHtTdHJpbmd9IG5vZGVOYW1lIGlzIHRoZSBub2RlTmFtZSBvZiB5b3VyIEhUTUxFbGVtZW50LCBwbGVhc2UgdXNlIGNvcnJlY3Qgc3BlbGxpbmdcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGJ1aWxkZXIgaXMgdGhlIGZ1bmN0aW9uIHJ1biB3aGVuIGFuIEhUTUxFbGVtZW50IHRoYXQgbWF0Y2hcbiAqICAgIG5vZGVOYW1lIGlzIGluc2VydGVkIGluIGN1cnJlbnQgSFRNTCBEb2N1bWVudC9cbiAqL1xuXG5mdW5jdGlvbiBkZWZpbmUgKG5vZGVOYW1lLCBidWlsZGVyKSB7XG4gIGlmICh0eXBlb2Ygbm9kZU5hbWUgIT09IFwic3RyaW5nXCIpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRmlyc3QgcGFyYW1ldGVyIHNob3VsZCBiZSBhIHN0cmluZyAodG8gc2VsZWN0IGl0ZW1zIGJ5IG5vZGUgbmFtZSBpbiBkb20gdHJlZSlcIilcbiAgaWYgKHR5cGVvZiBidWlsZGVyICE9PSBcImZ1bmN0aW9uXCIpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiU2Vjb25kIHBhcmFtZXRlciBzaG91bGQgYmUgYSBjbGFzcyBvciBhIGZ1bmN0aW9uICh0byBjb25zdHJ1Y3QgaXRlbSlcIilcbiAgREVGSU5FU1tub2RlTmFtZS50b1VwcGVyQ2FzZSgpXSA9IGJ1aWxkZXI7XG4gIFsuLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKG5vZGVOYW1lLnRvVXBwZXJDYXNlKCkpXS5mb3JFYWNoKHRlc3QpXG59XG5cblxuLyoqXG4gKiBAY2xhc3MgPEN1c3RvbUhUTUxFbGVtZW50PiBpcyBhbiBhYnN0cmFjdCBjbGFzcyBmb3IgaGVscGluZyBkZXZcbiAqL1xuXG5jbGFzcyBDdXN0b21IVE1MRWxlbWVudCB7XG59XG5cbmV4cG9ydCB7IGRlZmluZSBhcyBkZWZhdWx0LCBkZWZpbmUsIEN1c3RvbUhUTUxFbGVtZW50IH1cbiIsIi8qKlxuICogIEBmdW5jdGlvbiA8YWpheD4gZXhlY3V0ZSBhIHJlcXVlc3QgdG8gc2VydmVyXG4gKiAgQHBhcmFtIHtzdHJpbmd8ZnVuY3Rpb258b2JqZWN0fSBtZXRob2Qgb3IgYnVpbGRlclxuICogIEBwYXJhbSB7c3RyaW5nfGZ1bmN0aW9ufSB1cmkgdG8gcmVzb3VyY2VcbiAqICBAcGFyYW0ge3N0cmluZ3xmdW5jdGlvbn0gZGF0YSB0byBzZW5kIGluIHJlcXVlc3QgYm9keVxuICogIEBwYXJhbSB7ZnVuY3Rpb258QXJyYXkuPGZ1bmN0aW9uPn0gc3VjY2VzcyBmdW5jdGlvbnNcbiAqICBAcGFyYW0ge2Z1bmN0aW9ufEFycmF5LjxmdW5jdGlvbj59IGZhaWx1cmUgZnVuY3Rpb25zXG4gKiAgQHBhcmFtIHtvYmplY3R8ZnVuY3Rpb259IGhlYWRlcnMgdG8gc2VuZCB0byByZXF1ZXN0IGhlYWRlcnNcbiAqICBAcGFyYW0ge3N0cmluZ3xmdW5jdGlvbn0gb3ZlcnJpZGVNaW1lVHlwZSB0byBlbmZvcmNlIHJlc3BvbnNlIHJlYWRpbmcgZm9ybWF0XG4gKiAgQHJldHVybiB7UHJvbWlzZX1cbiAqL1xuXG5mdW5jdGlvbiBhamF4ICguLi5hcmdzKSB7XG4gIGNvbnN0IGJ1aWxkZXIgPSBhamF4UGFyYW1ldGVycy5hcHBseShudWxsLCBhcmdzKVxuXG4gIGNvbnN0IHByb20gPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29uc3QgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KClcblxuICAgIHhoci5hZGRFdmVudExpc3RlbmVyKFwibG9hZGVuZFwiLCAoKSA9PiB7XG4gICAgICByZXNvbHZlKHhocilcbiAgICB9KVxuICAgIHhoci5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgKCkgPT4ge1xuICAgICAgY29uc3QgZXJyID0gbmV3IEVycm9yKGBSZXF1ZXN0ICR7YnVpbGRlci5tZXRob2R9ICR7YnVpbGRlci51cml9IGZhaWxlZGApXG4gICAgICBlcnIueGhyID0geGhyXG4gICAgICByZWplY3QoZXJyKVxuICAgIH0pXG5cbiAgICB4aHIub3BlbihidWlsZGVyLm1ldGhvZCwgYnVpbGRlci51cmkpXG5cbiAgICBpZiAodHlwZW9mIGJ1aWxkZXIuaGVhZGVycyA9PT0gXCJvYmplY3RcIiAmJiBidWlsZGVyLmhlYWRlcnMgIT09IG51bGwpIHtcbiAgICAgIE9iamVjdC5rZXlzKGJ1aWxkZXIuaGVhZGVycykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgIGNvbnN0IHN0ciA9IHRyeUV4ZWMoYnVpbGRlci5oZWFkZXJzW2tleV0pXG4gICAgICAgIGlmICh0eXBlb2Ygc3RyID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoa2V5LCBzdHIpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBidWlsZGVyLm92ZXJyaWRlTWltZVR5cGUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHhoci5vdmVycmlkZU1pbWVUeXBlKGJ1aWxkZXIub3ZlcnJpZGVNaW1lVHlwZSlcbiAgICB9XG5cbiAgICB4aHIuc2VuZChidWlsZGVyLmRhdGEpXG4gIH0pXG5cbiAgaWYgKEFycmF5LmlzQXJyYXkoYnVpbGRlci5zdWNjZXNzKSkge1xuICAgIGJ1aWxkZXIuc3VjY2Vzcy5mb3JFYWNoKChmbikgPT4ge1xuICAgICAgaWYgKHR5cGVvZiBmbiA9PT0gXCJmdW5jdGlvblwiKVxuICAgICAgICBwcm9tLnRoZW4oZm4pXG4gICAgfSlcbiAgfVxuICBpZiAodHlwZW9mIGJ1aWxkZXIuc3VjY2VzcyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgcHJvbS50aGVuKGJ1aWxkZXIuc3VjY2VzcylcbiAgfVxuXG4gIGlmIChBcnJheS5pc0FycmF5KGJ1aWxkZXIuZmFpbHVyZSkpIHtcbiAgICBidWlsZGVyLmZhaWx1cmUuZm9yRWFjaCgoZm4pID0+IHtcbiAgICAgIGlmICh0eXBlb2YgZm4gPT09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgcHJvbS5jYXRjaChmbilcbiAgICB9KVxuICB9XG4gIGlmICh0eXBlb2YgYnVpbGRlci5mYWlsdXJlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBwcm9tLmNhdGNoKGJ1aWxkZXIuZmFpbHVyZSlcbiAgfVxuXG4gIHJldHVybiBwcm9tXG59XG5cblxuLyoqXG4gKiAgQGZ1bmN0aW9uIDxhamF4UGFyYW1ldGVycz4gZXhlY3V0ZSBwYXJhbWV0ZXJzIGFuZCByZXR1cm5zIGluIGdvb2QgZm9ybWF0XG4gKiAgQHBhcmFtIHtzdHJpbmd8ZnVuY3Rpb258b2JqZWN0fSBtZXRob2Qgb3IgYnVpbGRlclxuICogIEBwYXJhbSB7c3RyaW5nfGZ1bmN0aW9ufSB1cmkgdG8gcmVzb3VyY2VcbiAqICBAcGFyYW0ge3N0cmluZ3xmdW5jdGlvbn0gZGF0YSB0byBzZW5kIGluIHJlcXVlc3QgYm9keVxuICogIEBwYXJhbSB7ZnVuY3Rpb258QXJyYXkuPGZ1bmN0aW9uPn0gc3VjY2VzcyBmdW5jdGlvbnNcbiAqICBAcGFyYW0ge2Z1bmN0aW9ufEFycmF5LjxmdW5jdGlvbj59IGZhaWx1cmUgZnVuY3Rpb25zXG4gKiAgQHBhcmFtIHtvYmplY3R8ZnVuY3Rpb259IGhlYWRlcnMgdG8gc2VuZCB0byByZXF1ZXN0IGhlYWRlcnNcbiAqICBAcGFyYW0ge3N0cmluZ3xmdW5jdGlvbn0gb3ZlcnJpZGVNaW1lVHlwZSB0byBlbmZvcmNlIHJlc3BvbnNlIHJlYWRpbmcgZm9ybWF0XG4gKiAgQHJldHVybiB7T2JqZWN0fVxuICovXG5cbmZ1bmN0aW9uIGFqYXhQYXJhbWV0ZXJzIChtZXRob2QsIHVyaSwgZGF0YSwgc3VjY2VzcywgZmFpbHVyZSwgaGVhZGVycywgb3ZlcnJpZGVNaW1lVHlwZSkge1xuICBpZiAodHlwZW9mIG1ldGhvZCA9PT0gXCJvYmplY3RcIikge1xuICAgIHJldHVybiBhamF4UGFyYW1ldGVycyhcbiAgICAgIG1ldGhvZC5tZXRob2QsXG4gICAgICBtZXRob2QudXJpIHx8IG1ldGhvZC51cmwgfHwgbWV0aG9kLmZpbGUgfHwgbWV0aG9kLnNvdXJjZSxcbiAgICAgIG1ldGhvZC5kYXRhIHx8IG1ldGhvZC5ib2R5IHx8IG1ldGhvZC5wb3N0LFxuICAgICAgbWV0aG9kLnN1Y2Nlc3MgfHwgbWV0aG9kLmxvYWQsXG4gICAgICBtZXRob2QuZmFpbHVyZSB8fCBtZXRob2QuZXJyb3IsXG4gICAgICBtZXRob2QuaGVhZGVycyxcbiAgICAgIG1ldGhvZC5vdmVycmlkZU1pbWVUeXBlXG4gICAgKVxuICB9XG4gIGVsc2Uge1xuICAgIHJldHVybiB7XG4gICAgICBtZXRob2Q6IHRyeUV4ZWMuY2FsbCh0aGlzLCBtZXRob2QsIFwiR0VUXCIsIGFyZ3VtZW50cyksXG4gICAgICB1cmk6IHRyeUV4ZWMuY2FsbCh0aGlzLCB1cmksIFwiXCIsIGFyZ3VtZW50cyksXG4gICAgICBkYXRhOiB0cnlFeGVjLmNhbGwodGhpcywgZGF0YSwgbnVsbCwgYXJndW1lbnRzKSxcbiAgICAgIHN1Y2Nlc3MsXG4gICAgICBmYWlsdXJlLFxuICAgICAgaGVhZGVyczogdHJ5RXhlYy5jYWxsKHRoaXMsIGhlYWRlcnMsIG51bGwsIGFyZ3VtZW50cyksXG4gICAgICBvdmVycmlkZU1pbWVUeXBlOiB0cnlFeGVjLmNhbGwodGhpcywgb3ZlcnJpZGVNaW1lVHlwZSwgbnVsbCwgYXJndW1lbnRzKVxuICAgIH1cbiAgfVxufVxuXG5cbi8qKlxuICogIEBmdW5jdGlvbiA8dHJ5RXhlYz4gZXhlY3V0ZSB7Zm59IGlmIGl0IGlzIGEgZnVuY3Rpb24gb3JcbiAqICAgIHJldHVybiB7Zm59IGlmIGl0IGlzIGEgc3RyaW5nIG9yXG4gKiAgICByZXR1cm4ge2RlZn0uXG4gKiAgQHJldHVybiB7c3RyaW5nfCp9XG4gKi9cblxuZnVuY3Rpb24gdHJ5RXhlYyAoZm4sIGRlZiwgYXJncykge1xuICBpZiAodHlwZW9mIGZuID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJncylcbiAgfVxuICBpZiAodHlwZW9mIGZuID09PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIGZuXG4gIH1cbiAgcmV0dXJuIGRlZlxufVxuXG5leHBvcnQgeyBhamF4IGFzIGRlZmF1bHQsIGFqYXgsIGFqYXhQYXJhbWV0ZXJzLCB0cnlFeGVjIH1cbiIsImltcG9ydCBhamF4IGZyb20gXCIuL2FqYXhcIlxuXG5mdW5jdGlvbiBtZXJnZSAoLi4uYXJncykge1xuICBjb25zdCByZXN1bHQgPSB7fSwgc3VjY2VzcyA9IFtdLCBmYWlsdXJlID0gW11cbiAgd2hpbGUgKGFyZ3MubGVuZ3RoKSB7XG4gICAgY29uc3QgYnVpbGRlciA9IGFyZ3Muc2hpZnQoKVxuICAgIGlmIChBcnJheS5pc0FycmF5KGJ1aWxkZXIuc3VjY2VzcykpIHN1Y2Nlc3MuY29uY2F0KGJ1aWxkZXIuc3VjY2VzcylcbiAgICBpZiAodHlwZW9mIGJ1aWxkZXIuc3VjY2VzcyA9PT0gXCJmdW5jdGlvblwiKSBzdWNjZXNzLnB1c2goYnVpbGRlci5zdWNjZXNzKVxuICAgIGlmIChBcnJheS5pc0FycmF5KGJ1aWxkZXIuZmFpbHVyZSkpIGZhaWx1cmUuY29uY2F0KGJ1aWxkZXIuZmFpbHVyZSlcbiAgICBpZiAodHlwZW9mIGJ1aWxkZXIuZmFpbHVyZSA9PT0gXCJmdW5jdGlvblwiKSBmYWlsdXJlLnB1c2goYnVpbGRlci5mYWlsdXJlKVxuICAgIE9iamVjdC5hc3NpZ24ocmVzdWx0LCBidWlsZGVyKVxuICB9XG4gIHJlc3VsdC5zdWNjZXNzID0gc3VjY2Vzc1xuICByZXN1bHQuZmFpbHVyZSA9IGZhaWx1cmVcbiAgcmV0dXJuIHJlc3VsdFxufVxuXG5cbi8qKlxuICogIEBmdW5jdGlvbiA8YWpheFBhcmFtZXRlcnM+IGV4ZWN1dGUgcGFyYW1ldGVycyBhbmQgcmV0dXJucyBpbiBnb29kIGZvcm1hdFxuICogIEBwYXJhbSB7c3RyaW5nfGZ1bmN0aW9ufG9iamVjdH0gbWV0aG9kIG9yIGJ1aWxkZXJcbiAqICBAcGFyYW0ge3N0cmluZ3xmdW5jdGlvbn0gdXJpIHRvIHJlc291cmNlXG4gKiAgQHBhcmFtIHtzdHJpbmd8ZnVuY3Rpb259IGRhdGEgdG8gc2VuZCBpbiByZXF1ZXN0IGJvZHlcbiAqICBAcGFyYW0ge2Z1bmN0aW9ufEFycmF5LjxmdW5jdGlvbj59IHN1Y2Nlc3MgZnVuY3Rpb25zXG4gKiAgQHBhcmFtIHtmdW5jdGlvbnxBcnJheS48ZnVuY3Rpb24+fSBmYWlsdXJlIGZ1bmN0aW9uc1xuICogIEBwYXJhbSB7b2JqZWN0fGZ1bmN0aW9ufSBoZWFkZXJzIHRvIHNlbmQgdG8gcmVxdWVzdCBoZWFkZXJzXG4gKiAgQHBhcmFtIHtzdHJpbmd8ZnVuY3Rpb259IG92ZXJyaWRlTWltZVR5cGUgdG8gZW5mb3JjZSByZXNwb25zZSByZWFkaW5nIGZvcm1hdFxuICogIEByZXR1cm4ge09iamVjdH1cbiAqL1xuXG5mdW5jdGlvbiBhamF4UGFyYW1ldGVycyAobWV0aG9kLCB1cmksIGRhdGEsIHN1Y2Nlc3MsIGZhaWx1cmUsIGhlYWRlcnMsIG92ZXJyaWRlTWltZVR5cGUpIHtcbiAgaWYgKHR5cGVvZiBtZXRob2QgPT09IFwib2JqZWN0XCIgJiYgbWV0aG9kICE9PSBudWxsKSB7XG4gICAgcmV0dXJuIGFqYXhQYXJhbWV0ZXJzKFxuICAgICAgbWV0aG9kLm1ldGhvZCxcbiAgICAgIG1ldGhvZC51cmkgfHwgbWV0aG9kLnVybCB8fCBtZXRob2QuZmlsZSB8fCBtZXRob2Quc291cmNlLFxuICAgICAgbWV0aG9kLmRhdGEgfHwgbWV0aG9kLmJvZHkgfHwgbWV0aG9kLnBvc3QsXG4gICAgICBtZXRob2Quc3VjY2VzcyB8fCBtZXRob2QubG9hZCxcbiAgICAgIG1ldGhvZC5mYWlsdXJlIHx8IG1ldGhvZC5lcnJvcixcbiAgICAgIG1ldGhvZC5oZWFkZXJzLFxuICAgICAgbWV0aG9kLm92ZXJyaWRlTWltZVR5cGVcbiAgICApXG4gIH1cbiAgZWxzZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1ldGhvZCxcbiAgICAgIHVyaSxcbiAgICAgIGRhdGEsXG4gICAgICBzdWNjZXNzLFxuICAgICAgZmFpbHVyZSxcbiAgICAgIGhlYWRlcnMsXG4gICAgICBvdmVycmlkZU1pbWVUeXBlXG4gICAgfVxuICB9XG59XG5cblxuLyoqXG4gKiAgQGNsYXNzIDxSZXNvdXJjZT4gc3RvcmUgbWV0aG9kcyBvbiBhIGNvbW1vbiBkaXN0YW50IFwicmVzb3VyY2VcIi4gQSBkaXN0YW50XG4gKiAgICByZXNvdXJjZSBpcyBhIHN0cmVhbSB3aXRoIHNhbWUgb3JpZ2luIGFuZCAoYWxtb3N0KSBzYW1lIGFjZXNzIG1ldGhvZHMsXG4gKiAgICBsaWtlIGEgZGF0YSBzZXJ2ZXIuXG4gKiAgICBMb29rIGNhcmVmdWxseSwgdGhlIGNvbnN0cnVjdG9yLCB0aGUgYWRkTWV0aG9kIGFuZCBlYWNoIG1ldGhvZHMgYXJlIGNhbGxlZFxuICogICAgd2l0aCBzYW1lIHBhcmFtZXRlcnMsIGV4Y2VwdCBhZGRNZXRob2Qgd2hpY2ggaGFzIGEgXCJuYW1lXCIgYXQgZmlyc3RcbiAqICAgIHBhcmFtZXRlci4gVGhlc2VzIHBhcmFtZXRlcnMgYXJlIG1lcmdlZCB0byBjcmVhdGUgdGhlIGZpbmFsIGJ1aWxkZXIgZm9yXG4gKiAgICB0aGUgcmVxdWVzdC5cbiAqL1xuXG5jbGFzcyBSZXNvdXJjZSB7XG5cbiAgLyoqXG4gICAqICBAbWV0aG9kIDxjb25zdHJ1Y3Rvcj5cbiAgICogIEBwYXJhbSB7c3RyaW5nfGZ1bmN0aW9ufG9iamVjdH0gbWV0aG9kIG9yIGJ1aWxkZXJcbiAgICogIEBwYXJhbSB7c3RyaW5nfGZ1bmN0aW9ufSB1cmkgdG8gcmVzb3VyY2VcbiAgICogIEBwYXJhbSB7c3RyaW5nfGZ1bmN0aW9ufSBkYXRhIHRvIHNlbmQgaW4gcmVxdWVzdCBib2R5XG4gICAqICBAcGFyYW0ge2Z1bmN0aW9ufEFycmF5LjxmdW5jdGlvbj59IHN1Y2Nlc3MgZnVuY3Rpb25zXG4gICAqICBAcGFyYW0ge2Z1bmN0aW9ufEFycmF5LjxmdW5jdGlvbj59IGZhaWx1cmUgZnVuY3Rpb25zXG4gICAqICBAcGFyYW0ge29iamVjdHxmdW5jdGlvbn0gaGVhZGVycyB0byBzZW5kIHRvIHJlcXVlc3QgaGVhZGVyc1xuICAgKiAgQHBhcmFtIHtzdHJpbmd8ZnVuY3Rpb259IG92ZXJyaWRlTWltZVR5cGUgdG8gZW5mb3JjZSByZXNwb25zZSByZWFkaW5nIGZvcm1hdFxuICAgKiAgQHJldHVybiB7UmVzb3VyY2V9IHNlbGZcbiAgICovXG5cbiAgY29uc3RydWN0b3IgKC4uLmFyZ3MpIHtcbiAgICB0aGlzLmNvbW1vbkJ1aWxkZXIgPSBhamF4UGFyYW1ldGVycy5hcHBseShudWxsLCBhcmdzKVxuICAgIHRoaXMubWV0aG9kc0J1aWxkZXIgPSB7fVxuICB9XG5cbiAgLyoqXG4gICAqICBAbWV0aG9kIDxhZGRNZXRob2Q+IHJlZ2lzdGVyIGEgbmV3IG1ldGhvZCBvZiB0aGlzIHJlc291cmNlLCB3aGljaCBjb3VsZCBiZSBjYWxsZWRcbiAgICogICAgICB3aXRoIHJlc291cmNlLiR7bmFtZX0obWV0aG9kLCB1cmksIGRhdGEsIHN1Y2Nlc3MsIGZhaWx1cmUsIGhlYWRlcnMsIG92ZXJyaWRlTWltZVR5cGUpLlxuICAgKiAgQHBhcmFtIHtzdHJpbmd9IG5hbWUgdXNlZCB0byBjYWxsIHRoZSBtZXRob2QuXG4gICAqICBAcGFyYW0ge3N0cmluZ3xmdW5jdGlvbnxvYmplY3R9IG1ldGhvZCBvciBidWlsZGVyXG4gICAqICBAcGFyYW0ge3N0cmluZ3xmdW5jdGlvbn0gdXJpIHRvIHJlc291cmNlXG4gICAqICBAcGFyYW0ge3N0cmluZ3xmdW5jdGlvbn0gZGF0YSB0byBzZW5kIGluIHJlcXVlc3QgYm9keVxuICAgKiAgQHBhcmFtIHtmdW5jdGlvbnxBcnJheS48ZnVuY3Rpb24+fSBzdWNjZXNzIGZ1bmN0aW9uc1xuICAgKiAgQHBhcmFtIHtmdW5jdGlvbnxBcnJheS48ZnVuY3Rpb24+fSBmYWlsdXJlIGZ1bmN0aW9uc1xuICAgKiAgQHBhcmFtIHtvYmplY3R8ZnVuY3Rpb259IGhlYWRlcnMgdG8gc2VuZCB0byByZXF1ZXN0IGhlYWRlcnNcbiAgICogIEBwYXJhbSB7c3RyaW5nfGZ1bmN0aW9ufSBvdmVycmlkZU1pbWVUeXBlIHRvIGVuZm9yY2UgcmVzcG9uc2UgcmVhZGluZyBmb3JtYXRcbiAgICogIEByZXR1cm4ge1Jlc291cmNlfSBzZWxmXG4gICAqL1xuXG4gIGFkZE1ldGhvZCAobmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzXG4gICAgaWYgKHRoaXNbbmFtZV0pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVGhpcyByZXNvdXJjZSBhbHJlYWR5IGhhcyBhICR7bmFtZX0gbWV0aG9kYClcbiAgICB9XG5cbiAgICB0aGlzLm1ldGhvZHNCdWlsZGVyW25hbWVdID0gYWpheFBhcmFtZXRlcnMuYXBwbHkobnVsbCwgYXJncylcbiAgICB0aGlzW25hbWVdID0gKCkgPT4ge1xuICAgICAgY29uc3QgYnVpbGRlciA9IGFqYXhQYXJhbWV0ZXJzLmFwcGx5KG51bGwsIGFyZ3VtZW50cylcbiAgICAgIHJldHVybiBhamF4KG1lcmdlKHNlbGYuY29tbW9uQnVpbGRlciwgc2VsZi5tZXRob2RzQnVpbGRlcltuYW1lXSwgYnVpbGRlcikpXG4gICAgfVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8qKlxuICAgKiAgQGZ1bmN0aW9uIDxyZXF1ZXN0PiBzZW5kIGEgcmVxdWVzdFxuICAgKiAgQHBhcmFtIHtzdHJpbmd8ZnVuY3Rpb258b2JqZWN0fSBtZXRob2Qgb3IgYnVpbGRlclxuICAgKiAgQHBhcmFtIHtzdHJpbmd8ZnVuY3Rpb259IHVyaSB0byByZXNvdXJjZVxuICAgKiAgQHBhcmFtIHtzdHJpbmd8ZnVuY3Rpb259IGRhdGEgdG8gc2VuZCBpbiByZXF1ZXN0IGJvZHlcbiAgICogIEBwYXJhbSB7ZnVuY3Rpb258QXJyYXkuPGZ1bmN0aW9uPn0gc3VjY2VzcyBmdW5jdGlvbnNcbiAgICogIEBwYXJhbSB7ZnVuY3Rpb258QXJyYXkuPGZ1bmN0aW9uPn0gZmFpbHVyZSBmdW5jdGlvbnNcbiAgICogIEBwYXJhbSB7b2JqZWN0fGZ1bmN0aW9ufSBoZWFkZXJzIHRvIHNlbmQgdG8gcmVxdWVzdCBoZWFkZXJzXG4gICAqICBAcGFyYW0ge3N0cmluZ3xmdW5jdGlvbn0gb3ZlcnJpZGVNaW1lVHlwZSB0byBlbmZvcmNlIHJlc3BvbnNlIHJlYWRpbmcgZm9ybWF0XG4gICAqICBAcmV0dXJuIHtQcm9taXNlLjxYTUxIdHRwUmVxdWVzdD4uPFhNTEh0dHBSZXF1ZXN0Pn1cbiAgICovXG5cbiAgc3RhdGljIHJlcXVlc3QgKC4uLmFyZ3MpIHtcbiAgICBjb25zdCBidWlsZGVyID0gYWpheFBhcmFtZXRlcnMuYXBwbHkobnVsbCwgYXJncylcbiAgICByZXR1cm4gYWpheChidWlsZGVyKVxuICB9XG59XG5cbmV4cG9ydCB7IFJlc291cmNlIGFzIGRlZmF1bHQsIFJlc291cmNlLCBtZXJnZSB9XG4iLCJpbXBvcnQgUm91dGUgZnJvbSBcIi4vcm91dGVcIlxuXG5jb25zdCBST1VURVJTID0gW11cbmxldCBkZWZhdWx0Q29udHJvbGxlciA9IG51bGxcbmxldCBsYXVuY2hlZCA9IGZhbHNlXG5cbndpbmRvdy5yID0gUk9VVEVSU1xuXG4vKipcbiAqIEBjbGFzcyA8Um91dGVyPiBzdG9jayByb3V0ZXMsIGFkZCBwcmVmaXggaW4gdGhlaXIgcGF0aHMsIHRlc3RzIHRoZW0sIGFuZFxuICogICAgZXhlY3V0ZXMgdGhlaXIgY29udHJvbGxlcnMgaWYgb25lIG1hdGNoZXMuXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUm91dGVyIHtcblxuXG4gIC8qKlxuICAgKiBAbWV0aG9kIDxjb25zdHJ1Y3Rvcj4gc2V0IHByZWZpeCBvZiBlYWNoIHVybHNcbiAgICogQHJldHVybiB7Um91dGVyfSBzZWxmXG4gICAqL1xuXG4gIGNvbnN0cnVjdG9yIChiYXNlVXJsLCBmaXJzdENhbGwpIHtcbiAgICB0aGlzLmJhc2VVcmwgPSBiYXNlVXJsIHx8IFwiXCJcbiAgICB0aGlzLmZpcnN0Q2FsbCA9IGZpcnN0Q2FsbCB8fCBudWxsXG4gICAgdGhpcy5yb3V0ZXMgPSBbXVxuICAgIFJPVVRFUlMucHVzaCh0aGlzKVxuICB9XG5cblxuICAvKipcbiAgICogQG1ldGhvZCA8YWRkPiBhZGQgYSByb3V0ZSBpbiB0aGlzIHJvdXRlclxuICAgKiBAcGFyYW0ge1JvdXRlfHN0cmluZ30gcm91dGUgb3IgcGF0aFxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjb250cm9sbGVyIHRvIGV4ZWN1dGUgd2hlbiBwYXRoIG1hdGNoZXNcbiAgICogQHJldHVybiB7Um91dGV9IGNyZWF0ZWRcbiAgICovXG5cbiAgYWRkIChyb3V0ZSwgY29udHJvbGxlcikge1xuICAgIGlmICh0eXBlb2Ygcm91dGUgPT09IFwic3RyaW5nXCIgJiYgdHlwZW9mIGNvbnRyb2xsZXIgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgcm91dGUgPSBuZXcgUm91dGUodGhpcy5iYXNlVXJsICsgcm91dGUsIGNvbnRyb2xsZXIpXG4gICAgfVxuICAgIGlmIChyb3V0ZSBpbnN0YW5jZW9mIFJvdXRlKSB7XG4gICAgICB0aGlzLnJvdXRlcy5wdXNoKHJvdXRlKVxuICAgICAgaWYgKGxhdW5jaGVkKSB7XG4gICAgICAgIGNvbnN0IGFyZ3MgPSByb3V0ZS5nZXRBcmdzKClcbiAgICAgICAgaWYgKGFyZ3MpIHtcbiAgICAgICAgICB0aGlzLmNhbGxGaXJzdCgpXG4gICAgICAgICAgcm91dGUuZ28oYXJncylcbiAgICAgICAgICBSb3V0ZXIuY3VycmVudCA9IHJvdXRlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJvdXRlXG4gIH1cblxuXG4gIC8qKlxuICAgKiBAbWV0aG9kIDx0ZXN0PiBlYWNoIHJvdXRlcyBvZiB0aGlzIHJvdXRlciBhbmQgcmV0dXJuIGEgcGF0aCBpZiBpdCBtYXRjaGVzXG4gICAqIEByZXR1cm4ge1JvdXRlfG51bGx9IG51bGwgaWYgbm90IGZvdW5kXG4gICAqL1xuXG4gIHRlc3QgKCkge1xuICAgIHJldHVybiB0aGlzLnJvdXRlcy5maW5kKHJvdXRlID0+IHJvdXRlLmdldEFyZ3MoKSlcbiAgfVxuXG5cbiAgLyoqXG4gICAqIEBtZXRob2QgPGNhbGxGaXJzdD4gaXMgY2FsbGVkIG9uZSB0aW1lIHdoZW4gYSByb3V0ZSBvZiB0aGlzIHJvdXRlciBpcyBmb3VuZC5cbiAgICovXG5cbiAgY2FsbEZpcnN0ICgpIHtcbiAgICBpZiAodHlwZW9mIHRoaXMuZmlyc3RDYWxsID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHRoaXMuZmlyc3RDYWxsKClcbiAgICAgIHRoaXMuZmlyc3RDYWxsID0gbnVsbFxuICAgIH1cbiAgfVxuXG5cbiAgLyoqXG4gICAqIEBmdW5jdGlvbiA8c2V0RGVmYXVsdD4gc2V0IHRoZSBjb250cm9sbGVyIHRvIGNhbGwgd2hlbiBubyBhbnkgcm91dGUgZm91bmQuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNvbnRyb2xsZXJcbiAgICovXG5cbiAgc3RhdGljIHNldERlZmF1bHQgKGNvbnRyb2xsZXIpIHtcbiAgICBkZWZhdWx0Q29udHJvbGxlciA9IGNvbnRyb2xsZXJcbiAgfVxuXG5cbiAgLyoqXG4gICAqIEBmdW5jdGlvbiA8bGlzdGVuUG9wc3RhdGU+IHNldCBldmVudCBpbiB0aGUgd2luZG93IHRvIHRyaWdnZXIgdGhlIHJvdXRlZFxuICAgKiAgICBjb250cm9sbGVyXG4gICAqL1xuXG4gIHN0YXRpYyBsaXN0ZW5Qb3BzdGF0ZSAoKSB7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJwb3BzdGF0ZVwiLCBwb3BzdGF0ZSlcbiAgICBpZiAoIWxhdW5jaGVkKSB7XG4gICAgICBwb3BzdGF0ZSgpXG4gICAgfVxuICB9XG5cblxuICAvKipcbiAgICogQGZ1bmN0aW9uIDxnZXRBbGw+IHJldHVybnMgYSBsaXN0IG9mIGFsbCByb3V0ZXMgYXZhaWxhYmxlXG4gICAqIEByZXR1cm4ge0FycmF5fVxuICAgKi9cblxuICBzdGF0aWMgZ2V0QWxsICgpIHtcbiAgICBjb25zdCBsaXN0ID0gUk9VVEVSUy5tYXAoKHJvdXRlcikgPT4ge1xuICAgICAgcmV0dXJuIHJvdXRlci5yb3V0ZXMubWFwKChyb3V0ZSkgPT4ge1xuICAgICAgICByZXR1cm4gcm91dGUucGF0aFxuICAgICAgfSlcbiAgICB9KS5mbGF0KClcbiAgICBpZiAoZGVmYXVsdENvbnRyb2xsZXIpIHtcbiAgICAgIGxpc3QudW5zaGlmdChcIipcIilcbiAgICB9XG4gICAgcmV0dXJuIGxpc3RcbiAgfVxufVxuXG5cbi8qKlxuICogQGZ1bmN0aW9uIDxwb3BzdGF0ZT4gaXMgdHJpZ2dlcmVkIHdoZW4gcGFnZSBpcyBsb2FkZWQgb3IgbmF2aWdhdGlvbiBjaGFuZ2VzLlxuICogQWxzbyBzZXRzIFJvdXRlci5jdXJyZW50IGlmIGEgUm91dGUgaXMgZm91bmQsIGVsc2Ugc2V0cyBkZWZhdWx0IGNvbnRyb2xsZXJcbiAqIGlmIGl0IGV4aXN0cy5cbiAqL1xuXG5mdW5jdGlvbiBwb3BzdGF0ZSAoKSB7XG4gIGxhdW5jaGVkID0gdHJ1ZVxuICBsZXQgcm91dGUsIGZvdW5kXG4gIFJPVVRFUlMuZm9yRWFjaCgocm91dGVyKSA9PiB7XG4gICAgaWYgKCFyb3V0ZSkge1xuICAgICAgcm91dGUgPSByb3V0ZXIudGVzdCgpXG4gICAgICBmb3VuZCA9IHJvdXRlclxuICAgIH1cbiAgfSlcbiAgaWYgKHJvdXRlKSB7XG4gICAgZm91bmQuY2FsbEZpcnN0KClcbiAgICByb3V0ZS5ydW4oKVxuICAgIFJvdXRlci5jdXJyZW50ID0gcm91dGVcbiAgfVxuICBlbHNlIGlmICh0eXBlb2YgZGVmYXVsdENvbnRyb2xsZXIgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIGRlZmF1bHRDb250cm9sbGVyKClcbiAgfVxufVxuIiwiaW1wb3J0IENodW5rIGZyb20gXCIuL2NodW5rXCJcblxubGV0IGN1cnJlbnRBcmdzXG5cblxuLyoqXG4gKiBAY2xhc3MgPFJvdXRlPiBpZiBhIHJvdXRlIG1hdGNoZXMgY3VycmVudCBwYXRoLCByZXR1cm4gYXJncyB3aXRoIGdldEFyZ3MoKS5cbiAqICAgIElmIGFyZ3MgYXJlIHJldHVybmVkLCB0aGVuIGV4ZWN1dGUgZ28oYXJncykuXG4gKi9cblxuY2xhc3MgUm91dGUge1xuXG4gIC8qKlxuICAgKiBAbWV0aG9kIDxjb25zdHJ1Y3Rvcj4gc2V0IHBhdGggYW5kIGl0cyBjb250cm9sbGVyIGlmIHJvdXRlIG1hdGNoXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwYXRoIGZvcm1hdCBcIi9rZXk6dHlwZS9rZXk6Lzp0eXBlLypcIlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb250cm9sbGVyXG4gICAqL1xuXG4gIGNvbnN0cnVjdG9yIChwYXRoLCBjb250cm9sbGVyKSB7XG4gICAgaWYgKHR5cGVvZiBwYXRoID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBwYXRoID0gcGF0aC5zcGxpdChcIi9cIilcbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkocGF0aCkpIHtcbiAgICAgIHRoaXMuY2h1bmtzID0gcGF0aC5tYXAoY2h1bmsgPT4gbmV3IENodW5rKGNodW5rKSlcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGaXJzdCBwYXJhbWV0ZXIgc2hvdWxkIGJlIGEgc3RyaW5nLlwiKVxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgY29udHJvbGxlciAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTZWNvbmQgcGFyYW1ldGVyIHNob3VsZCBiZSBhIGZ1bmN0aW9uLlwiKVxuICAgIH1cbiAgICB0aGlzLmNvbnRyb2xsZXIgPSBjb250cm9sbGVyXG4gICAgdGhpcy5ub0VuZCA9IHRoaXMuY2h1bmtzW3RoaXMuY2h1bmtzLmxlbmd0aC0xXS5vcmlnaW5hbCA9PT0gXCIqXCJcbiAgfVxuXG5cbiAgLyoqXG4gICAqIEBtZXRob2QgPGdvPiByZWRpcmVjdCB0byB0aGlzIGNvbnRyb2xsZXIgcGFzc2luZyBieSBVUkxcbiAgICogQHBhcmFtIHsqfSBhcmdzIG5ldyBhcmd1bWVudHMgZm9yIHRoaXMgY29udHJvbGxlciwgbWVyZ2VkIHdpdGggY3VycmVudCBhcmd1bWVudHNcbiAgICogQHJldHVybiB7Um91dGV9IHNlbGZcbiAgICovXG5cbiAgZ28gKGFyZ3MsIGZvcmNlKSB7XG4gICAgY29uc3QgcGFyYW1zID0gKHR5cGVvZiBhcmdzID09PSBcIm9iamVjdFwiKSA/IGFyZ3MgOiB7fVxuICAgIGNvbnN0IHBhdGggPSB0aGlzLmNyZWF0ZVBhdGgoT2JqZWN0LmFzc2lnbih7fSwgY3VycmVudEFyZ3MsIHBhcmFtcykpXG4gICAgaWYgKGZvcmNlICYmIHBhdGggPT09IFJvdXRlLmdldEJyb3dzZXJSZXF1ZXN0KCkpIHtcbiAgICAgIHRoaXMucnVuKGFyZ3MpXG4gICAgfSBlbHNlIHtcbiAgICAgIFJvdXRlLnNldEJyb3dzZXJSZXF1ZXN0KHBhdGgpXG4gICAgfVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8qKlxuICAgKiBAbWV0aG9kIDxydW4+IHJ1biB0aGlzIGNvbnRyb2xsZXIgYW55d2F5IHdpdGggdGhlc2UgYXJndW1lbnRzLlxuICAgKiBAcGFyYW0geyp9IGFyZ3MgaWYgZmFsc3ksIHRyeSB0byByZXR1cm4gcm91dGUuZ2V0QXJncygpLlxuICAgKiBAcmV0dXJuIHsqfSByZXR1cm5lZCBieSBjb250cm9sbGVyLlxuICAgKi9cblxuICBydW4gKGFyZ3MpIHtcbiAgICBjdXJyZW50QXJncyA9IGFyZ3MgfHwgdGhpcy5nZXRBcmdzKClcbiAgICByZXR1cm4gdGhpcy5jb250cm9sbGVyKGN1cnJlbnRBcmdzKVxuICB9XG5cblxuICAvKipcbiAgICogQG1ldGhvZCA8Z2V0QXJncz4gcmV0dXJuIGFuIG9iamVjdCBvZiBjb3JyZXNwb25kaW5nIHBhcmFtZXRlcnMgaW4gYnJvd3NlclxuICAgKiAgICBwYXRoIG9yIG51bGwgb2JqZWN0IGlmIGl0IGRvZXMgbm90IG1hdGNoLlxuICAgKiBAcmV0dXJuIHtPYmplY3R8bnVsbH0gbnVsbCBpZiBpdCBkb2VzIG5vdCBtYXRjaC5cbiAgICovXG5cbiAgZ2V0QXJncyAoKSB7XG4gICAgY29uc3QgaXRlbXMgPSBSb3V0ZS5nZXRCcm93c2VyUmVxdWVzdCgpLnNwbGl0KFwiL1wiKVxuXG4gICAgdHJ5IHtcbiAgICAgIGxldCBpID0gMFxuICAgICAgY29uc3QgYXJncyA9IHRoaXMuY2h1bmtzLm1hcCgoY2h1bmspID0+IHtcbiAgICAgICAgY29uc3QgaXRlbSA9IGl0ZW1zW2krK11cbiAgICAgICAgY29uc3QgcmVzID0gY2h1bmsuZXh0cmFjdEFyZ3MoaXRlbSlcbiAgICAgICAgcmV0dXJuIHJlc1xuICAgICAgfSlcbiAgICAgIGlmICh0aGlzLmNodW5rc1tpLTFdLm9yaWdpbmFsID09PSBcIipcIikge1xuICAgICAgICBhcmdzLnBvcCgpXG4gICAgICAgIGFyZ3MucHVzaCh7XG4gICAgICAgICAgdmFsdWU6IGl0ZW1zLnNsaWNlKGktMSkuam9pbihcIi9cIilcbiAgICAgICAgfSlcbiAgICAgIH0gZWxzZSBpZiAoaSAhPT0gaXRlbXMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBudWxsXG4gICAgICB9XG4gICAgICByZXR1cm4gYXJnc1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG5cblxuICAvKipcbiAgICogQG1ldGhvZCA8aXNNYXRjaD4gcmV0dXJuIGlmIGN1cnJlbnQgcm91dGUgbWF0Y2hlcyBicm93c2VyIHBhdGhcbiAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICovXG5cbiAgaXNNYXRjaCAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0QXJncygpICE9PSBudWxsXG4gIH1cblxuXG4gIC8qKlxuICAgKiBAbWV0aG9kIDxjcmVhdGVQYXRoPiBjcmVhdGUgYSBwYXRoIHN0cmluZyB3aXRoIGFyZ3VtZW50cywgaW4gb3JkZXIgdG9cbiAgICogICAgY3JlYXRlIGEgbGluayB0byBjYWxsIHRoaXMgcm91dGUuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhcmdzXG4gICAqIEByZXR1cm4ge1N0cmluZ30gcGF0aFxuICAgKi9cblxuICBjcmVhdGVQYXRoIChhcmdzKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGFyZ3MpKSB7XG4gICAgICBhcmdzID0gW11cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5jaHVua3MubWFwKChjaHVuaywga2V5KSA9PiBjaHVuay5jcmVhdGVQYXRoKGFyZ3Nba2V5XSkpLmpvaW4oXCIvXCIpXG4gIH1cblxuXG4gIC8qKlxuICAgKiBAZnVuY3Rpb24gPGdldEJyb3dzZXJSZXF1ZXN0PiByZXR1cm5zIHRoZSBjdXJyZW50IGJyb3dzZXIgcGF0aFxuICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAqL1xuXG4gIHN0YXRpYyBnZXRCcm93c2VyUmVxdWVzdCAoKSB7XG4gICAgcmV0dXJuIHdpbmRvdy5sb2NhdGlvbi5oYXNoLnN1YnN0cigxKVxuICB9XG5cblxuICAvKipcbiAgICogQGZ1bmN0aW9uIDxzZXRCcm93c2VyUmVxdWVzdD4gc2V0IHRoZSBjdXJyZW50IGJyb3dzZXIgcGF0aFxuICAgKi9cblxuICBzdGF0aWMgc2V0QnJvd3NlclJlcXVlc3QgKHN0cikge1xuICAgIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gc3RyXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUm91dGVcbiIsImNsYXNzIENodW5rRXJyb3Ige1xuICBjb25zdHJ1Y3RvciAobWVzc2FnZSwgY29kZSA9IDAsIHByZXZpb3VzID0gbnVsbCkge1xuICAgIGNvbnN0IHN0YWNrID0gKG5ldyBFcnJvcikuc3RhY2suc3BsaXQoL1xccypbXFxyXFxuXStcXHMqLylcbiAgICBzdGFjay5zaGlmdCgpXG4gICAgc3RhY2suc2hpZnQoKVxuICAgIE9iamVjdC5hc3NpZ24odGhpcywge21lc3NhZ2UsIGNvZGUsIHByZXZpb3VzLCBzdGFja30pXG4gIH1cblxuICB0b1N0cmluZyAoKSB7XG4gICAgcmV0dXJuIGAke3RoaXMuY29uc3RydWN0b3IubmFtZX0gKCR7dGhpcy5jb2RlfSk6ICR7dGhpcy5tZXNzYWdlfVxcblxcdCR7dGhpcy5zdGFjay5qb2luKFwiXFxuXFx0XCIpfVxcbmBcbiAgfVxufVxuXG5jb25zdCBGT1JNQVRTID0ge1xuICBudW1iZXI6IChzdHIpID0+IHtcbiAgICBjb25zdCBuID0gcGFyc2VGbG9hdChzdHIpXG4gICAgaWYgKGlzTmFOKG4pKVxuICAgICAgdGhyb3cgbmV3IENodW5rRXJyb3IoXCJCYWQgdHlwZTogZXhwZWN0IGFyZ3VtZW50IHRvIGJlIGEgbnVtYmVyLlwiKVxuICAgIHJldHVybiBuXG4gIH0sXG4gIGludGVnZXI6IChzdHIpID0+IHtcbiAgICBjb25zdCBuID0gcGFyc2VJbnQoc3RyKVxuICAgIGlmIChpc05hTihuKSlcbiAgICAgIHRocm93IG5ldyBDaHVua0Vycm9yKFwiQmFkIHR5cGU6IGV4cGVjdCBhcmd1bWVudCB0byBiZSBhbiBpbnRlZ2VyLlwiKVxuICAgIHJldHVybiBuXG4gIH0sXG4gIGZsb2F0OiAoc3RyKSA9PiB7XG4gICAgY29uc3QgbiA9IHBhcnNlRmxvYXQoc3RyKVxuICAgIGlmIChpc05hTihuKSlcbiAgICAgIHRocm93IG5ldyBDaHVua0Vycm9yKFwiQmFkIHR5cGU6IGV4cGVjdCBhcmd1bWVudCB0byBiZSBhIGZsb2F0LlwiKVxuICAgIHJldHVybiBuXG4gIH0sXG4gIHN0cmluZzogKHN0cikgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBzID0gSlNPTi5wYXJzZShzdHIpXG4gICAgICBpZiAodHlwZW9mIHMgPT09IFwic3RyaW5nXCIpXG4gICAgICAgIHJldHVybiBzXG4gICAgfVxuICAgIGNhdGNoIChlKSB7fVxuICAgIHJldHVybiBzdHJcbiAgfSxcbiAganNvbjogKHN0cikgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBvID0gSlNPTi5wYXJzZShzdHIpXG4gICAgICBpZiAodHlwZW9mIG8gPT09IFwib2JqZWN0XCIpXG4gICAgICAgIHJldHVybiBvXG4gICAgfVxuICAgIGNhdGNoIChlKSB7fVxuICAgIHRocm93IG5ldyBDaHVua0Vycm9yKFwiQmFkIHR5cGU6IGV4cGVjdCBhcmd1bWVudCB0byBiZSBhIGpzb24gb2JqZWN0LlwiKVxuICB9LFxuICBqc29uYXJyYXk6IChzdHIpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgbyA9IEpTT04ucGFyc2Uoc3RyKVxuICAgICAgaWYgKHR5cGVvZiBvID09PSBcIm9iamVjdFwiICYmIEFycmF5LmlzQXJyYXkobykpXG4gICAgICAgIHJldHVybiBvXG4gICAgfVxuICAgIGNhdGNoIChlKSB7fVxuICAgIHRocm93IG5ldyBDaHVua0Vycm9yKFwiQmFkIHR5cGU6IGV4cGVjdCBhcmd1bWVudCB0byBiZSBhIGpzb24gYXJyYXkuXCIpXG4gIH0sXG4gIGpzb25vYmplY3Q6IChzdHIpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgbyA9IEpTT04ucGFyc2Uoc3RyKVxuICAgICAgaWYgKHR5cGVvZiBvID09PSBcIm9iamVjdFwiICYmICFBcnJheS5pc0FycmF5KG8pKVxuICAgICAgICByZXR1cm4gb1xuICAgIH1cbiAgICBjYXRjaCAoZSkge31cbiAgICB0aHJvdyBuZXcgQ2h1bmtFcnJvcihcIkJhZCB0eXBlOiBleHBlY3QgYXJndW1lbnQgdG8gYmUgYSBqc29uIG9iamVjdCBub3QgYXJyYXkuXCIpXG4gIH0sXG4gIGJvb2xlYW46IChzdHIpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgYiA9IEpTT04ucGFyc2Uoc3RyKVxuICAgICAgaWYgKHR5cGVvZiBiID09PSBcImJvb2xlYW5cIilcbiAgICAgICAgcmV0dXJuIGJcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHt9XG4gICAgdGhyb3cgbmV3IENodW5rRXJyb3IoXCJCYWQgdHlwZTogZXhwZWN0IGFyZ3VtZW50IHRvIGJlIGEgYm9vbGVhbi5cIilcbiAgfSxcbiAgYW55OiAoc3RyKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBKU09OLnBhcnNlKHN0cilcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHt9XG4gICAgcmV0dXJuIHN0clxuICB9LFxuICB1dWlkOiAoc3RyKSA9PiB7XG4gICAgaWYgKHN0ci5tYXRjaCgvXltcXGRhLWZdezh9LVtcXGRhLWZdezR9LTRbXFxkYS1mXXszfS1bODlhYl1bXFxkYS1mXXszfS1bXFxkYS1mXXsxMn0kLykpXG4gICAgICByZXR1cm4gc3RyXG4gICAgZWxzZVxuICAgICAgdGhyb3cgbmV3IENodW5rRXJyb3IoXCJCYWQgdHlwZTogZXhwZWN0IGFyZ3VtZW50IHRvIGJlIGFuIHV1aWQuXCIpXG4gIH0sXG4gIGRhdGU6IChzdHIpID0+IHtcbiAgICBpZiAoc3RyLm1hdGNoKC9eXFxkezR9LVxcZHsyfS1cXGR7Mn0kLykpXG4gICAgICByZXR1cm4gbmV3IERhdGUoc3RyKVxuICAgIGVsc2VcbiAgICAgIHRocm93IG5ldyBDaHVua0Vycm9yKFwiQmFkIHR5cGU6IGV4cGVjdCBhcmd1bWVudCB0byBiZSBhIGRhdGUuXCIpXG4gIH0sXG4gIHRpbWU6IChzdHIpID0+IHtcbiAgICBjb25zdCBmb3VuZCA9IHN0ci5tYXRjaCgvXigyWzAtM118WzAxXVswLTldKTooWzAtNV1bMC05XSkoOihbMC01XVswLTldKSguKFxcZHsxLDN9KSk/KT8kLylcbiAgICBpZiAoZm91bmQpIHtcbiAgICAgIGNvbnN0IGR0ID0gbmV3IERhdGUoKVxuICAgICAgZHQuc2V0SG91cnMoZm91bmRbMV0pXG4gICAgICBkdC5zZXRNaW51dGVzKGZvdW5kWzJdKVxuICAgICAgaWYgKGZvdW5kWzNdKSBkdC5zZXRTZWNvbmRzKGZvdW5kWzRdKVxuICAgICAgaWYgKGZvdW5kWzVdKSBkdC5zZXRNaWxsaXNlY29uZHMoZm91bmRbNl0pXG4gICAgICByZXR1cm4gZHRcbiAgICB9XG4gICAgZWxzZVxuICAgICAgdGhyb3cgbmV3IENodW5rRXJyb3IoXCJCYWQgdHlwZTogZXhwZWN0IGFyZ3VtZW50IHRvIGJlIGEgdGltZS5cIilcbiAgfSxcbiAgZGF0ZXRpbWU6IChzdHIpID0+IHtcbiAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoc3RyKVxuICAgIGlmICghaXNOYU4oK2RhdGUpKVxuICAgICAgcmV0dXJuIGRhdGVcbiAgICBlbHNlXG4gICAgICB0aHJvdyBuZXcgQ2h1bmtFcnJvcihcIkJhZCB0eXBlOiBleHBlY3QgYXJndW1lbnQgdG8gYmUgYW55IERhdGUgZm9ybWF0LlwiKVxuICB9LFxuICBqc29uZGF0ZTogKHN0cikgPT4ge1xuICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShzdHIpXG4gICAgaWYgKCFpc05hTigrZGF0ZSkpXG4gICAgICByZXR1cm4gZGF0ZVxuICAgIGVsc2VcbiAgICAgIHRocm93IG5ldyBDaHVua0Vycm9yKFwiQmFkIHR5cGU6IGV4cGVjdCBhcmd1bWVudCB0byBiZSBhbnkgRGF0ZSBmb3JtYXQuXCIpXG4gIH0sXG4gIGludGVnZXJkYXRlOiAoc3RyKSA9PiB7XG4gICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKHBhcnNlSW50KHN0cikpXG4gICAgaWYgKCFpc05hTigrZGF0ZSkpXG4gICAgICByZXR1cm4gZGF0ZVxuICAgIGVsc2VcbiAgICAgIHRocm93IG5ldyBDaHVua0Vycm9yKFwiQmFkIHR5cGU6IGV4cGVjdCBhcmd1bWVudCB0byBiZSBhbiBpbnRlZ2VyLlwiKVxuICB9XG59XG5cbkZPUk1BVFNbJyddID0gRk9STUFUU1snYW55J11cblxuZnVuY3Rpb24gaXNPYmplY3QoZWwpIHtcbiAgcmV0dXJuIHR5cGVvZiBlbCA9PT0gXCJvYmplY3RcIiAmJiBlbCAhPT0gbnVsbFxufVxuXG5cbi8qKlxuICogQGZ1bmN0aW9uIDxydWxlVG9PYmplY3Q+XG4gKiBAcGFyYW0ge09iamVjdHxSZWdFeHB8RnVuY3Rpb258c3RyaW5nfVxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5cbmZ1bmN0aW9uIHJ1bGVUb09iamVjdCAocnVsZSkge1xuICBjb25zdCByZXMgPSB7fVxuICBpZiAodHlwZW9mIHJ1bGUgPT09IFwib2JqZWN0XCIpIHtcbiAgICBpZiAocnVsZSBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgICAgcmVzLnJlZ2V4cCA9IHJ1bGVcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHJ1bGUudmFsdWUpIHJlcy52YWx1ZSA9IHJ1bGUudmFsdWVcbiAgICAgIGlmIChydWxlLmtleSkgcmVzLmtleSA9IHJ1bGUua2V5XG4gICAgICBpZiAocnVsZS50eXBlKSByZXMudHlwZSA9IHJ1bGUudHlwZVxuICAgICAgaWYgKHJ1bGUucmVnZXhwKSByZXMucmVnZXhwID0gcnVsZS5yZWdleHBcbiAgICAgIGlmIChydWxlLm1hdGNoKSByZXMubWF0Y2ggPSBydWxlLm1hdGNoXG4gICAgICBpZiAocnVsZS50cmFuc2Zvcm0pIHJlcy50cmFuc2Zvcm0gPSBydWxlLnRyYW5zZm9ybVxuICAgIH1cbiAgfVxuICBpZiAodHlwZW9mIHJ1bGUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHJlcy50cmFuc2Zvcm0gPSBydWxlXG4gIH1cbiAgaWYgKHR5cGVvZiBydWxlID09PSBcInN0cmluZ1wiKSB7XG4gICAgaWYgKHJ1bGUgPT09IFwiKlwiKSB7XG4gICAgICByZXR1cm4ge31cbiAgICB9XG4gICAgY29uc3Qgc3BsaXQgPSBydWxlLnNwbGl0KFwiOlwiKVxuICAgIGlmIChzcGxpdC5sZW5ndGggPiAxKSB7XG4gICAgICBjb25zdCBrZXkgPSBzcGxpdC5zaGlmdCgpLFxuICAgICAgICB0eXBlID0gc3BsaXQuam9pbihcIjpcIilcbiAgICAgIHJlcy50eXBlID0gdHlwZVxuICAgICAgaWYgKGtleS5sZW5ndGgpIHtcbiAgICAgICAgcmVzLmtleSA9IGtleVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXMudmFsdWUgPSBydWxlXG4gICAgfVxuICB9XG4gIHJldHVybiByZXNcbn1cblxuXG4vKipcbiAqIEBmdW5jdGlvbiA8dGVzdFZhbHVlPlxuICogQHBhcmFtIHtPYmplY3R9IHJ1bGVcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICogQHJldHVybiB7T2JqZWN0fVxuICogQHRocm93cyB7Q2h1bmtFcnJvcn1cbiAqL1xuXG5mdW5jdGlvbiB0ZXN0VmFsdWUgKHJ1bGUsIHZhbHVlKSB7XG4gIGlmIChydWxlLnZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICBpZiAocnVsZS52YWx1ZSA9PT0gdmFsdWUpIHtcbiAgICAgIHJldHVybiB7IHZhbHVlIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IENodW5rRXJyb3IoXCJDaHVuayB2YWx1ZSBkb2VzIG5vdCBtYXRjaFwiKVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IHJlcyA9IHt9XG4gIGlmIChydWxlLnR5cGUgIT09IHVuZGVmaW5lZCkge1xuICAgIGlmIChGT1JNQVRTW3J1bGUudHlwZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmVzLnZhbHVlID0gRk9STUFUU1tydWxlLnR5cGVdKHZhbHVlKVxuICAgICAgcmVzLnR5cGUgPSBydWxlLnR5cGVcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IENodW5rRXJyb3IoXCJDaHVuayB2YWx1ZSBtYXRjaCB0eXBlIGRvZXMgbm90IGV4aXN0c1wiKVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXMudmFsdWUgPSB2YWx1ZVxuICB9XG5cbiAgaWYgKHJ1bGUucmVnZXhwIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgY29uc3QgZm91bmQgPSB2YWx1ZS5tYXRjaChydWxlLnJlZ2V4cClcbiAgICBpZiAoZm91bmQpIHtcbiAgICAgIHJlcy5yZWdleHAgPSBydWxlLnJlZ2V4cFxuICAgICAgaWYgKGlzT2JqZWN0KHJ1bGUubWF0Y2gpKSB7XG4gICAgICAgIGNvbnN0IGVsID0gT2JqZWN0LmtleXMocnVsZS5tYXRjaCkuZmluZChtID0+IHJ1bGUubWF0Y2hbbV0gPT09IGZvdW5kWzBdKVxuICAgICAgICBpZiAoZWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJlcy5pbmRleCA9IGVsXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgbmV3IENodW5rRXJyb3IoXCJDaHVuayBSZWdFeHAgZm91bmQgdmFsdWUgZG9lcyBub3QgbWF0Y2ggbGlzdGVkIHZhbHVlc1wiKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBDaHVua0Vycm9yKFwiQ2h1bmsgdmFsdWUgZG9lcyBub3QgbWF0Y2ggUmVnRXhwXCIpXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChpc09iamVjdChydWxlLm1hdGNoKSkge1xuICAgICAgY29uc3QgZWwgPSBPYmplY3Qua2V5cyhydWxlLm1hdGNoKS5maW5kKG0gPT4gcnVsZS5tYXRjaFttXSA9PT0gdmFsdWUpXG4gICAgICBpZiAoZWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXMuaW5kZXggPSBlbFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IENodW5rRXJyb3IoXCJDaHVuayB2YWx1ZSBkb2VzIG5vdCBtYXRjaCBsaXN0ZWQgdmFsdWVzXCIpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKHR5cGVvZiBydWxlLnRyYW5zZm9ybSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgcmVzLm9yaWdpbmFsID0gdmFsdWVcbiAgICByZXMudHJhbnNmb3JtID0gcnVsZS50cmFuc2Zvcm1cbiAgICByZXR1cm4gcnVsZS50cmFuc2Zvcm0ocmVzKVxuICB9XG5cbiAgcmV0dXJuIHJlc1xufVxuXG5cbi8qKlxuICogQGZ1bmN0aW9uIDxleHRyYWN0QXJncz5cbiAqIEBwYXJhbSB7T2JqZWN0fSBydWxlXG4gKiBAcGFyYW0ge3N0cmluZ30gY2h1bmtcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqIEB0aHJvd3Mge0NodW5rRXJyb3J9XG4gKi9cblxuZnVuY3Rpb24gZXh0cmFjdEFyZ3MgKHJ1bGUsIGNodW5rKSB7XG4gIGlmIChydWxlLmtleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgY29uc3Qgc3BsaXQgPSBjaHVuay5zcGxpdChcIjpcIilcbiAgICBpZiAoc3BsaXQubGVuZ3RoID4gMSkge1xuICAgICAgY29uc3Qga2V5ID0gc3BsaXQuc2hpZnQoKSxcbiAgICAgICAgdmFsdWUgPSBzcGxpdC5qb2luKFwiOlwiKSxcbiAgICAgICAgcmVzID0gdGVzdFZhbHVlKHJ1bGUsIHZhbHVlKVxuICAgICAgcmVzLmtleSA9IHJ1bGUua2V5XG4gICAgICByZXR1cm4gcmVzXG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBDaHVua0Vycm9yKFwiQ2h1bmsgY29udGVudCBkb2VzIG5vdCBtYXRjaCBrZXkvdmFsdWUgZm9ybWF0XCIpXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJldHVybiB0ZXN0VmFsdWUocnVsZSwgY2h1bmspXG4gIH1cbn1cblxuXG4vKipcbiAqIEBmdW5jdGlvbiA8Y3JlYXRlUGF0aD5cbiAqIEBwYXJhbSB7T2JqZWN0fSBydWxlXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqIEB0aHJvd3Mge0NodW5rRXJyb3J9XG4gKi9cblxuZnVuY3Rpb24gY3JlYXRlUGF0aChydWxlLCB2YWx1ZSkge1xuICBjb25zdCByZXMgPSAocnVsZS5rZXkgPyBydWxlLmtleSArIFwiOlwiIDogXCJcIikgKyB2YWx1ZVxuXG4gIGlmIChydWxlLnR5cGUgIT09IHVuZGVmaW5lZCkge1xuICAgIHRyeSB7XG4gICAgICBGT1JNQVRTW3J1bGUudHlwZV0odmFsdWUpXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdGhyb3cgbmV3IENodW5rRXJyb3IoXCJWYWx1ZSBkb2VzIG5vdCBtYXRjaCBwYXRoIHJlcXVpcmVtZW50c1wiKVxuICAgIH1cbiAgfVxuXG4gIGlmIChydWxlLnJlZ2V4cCBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgIGNvbnN0IGZvdW5kID0gdmFsdWUubWF0Y2gocnVsZS5yZWdleHApXG4gICAgaWYgKGZvdW5kKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShydWxlLm1hdGNoKSAmJiBydWxlLm1hdGNoLmluZGV4T2YoZm91bmRbMF0pID09PSAtMSkge1xuICAgICAgICB0aHJvdyBuZXcgQ2h1bmtFcnJvcihcIlZhbHVlIGRvZXMgbm90IG1hdGNoIHBhdGggcmVxdWlyZW1lbnRzXCIpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBDaHVua0Vycm9yKFwiVmFsdWUgZG9lcyBub3QgbWF0Y2ggcGF0aCByZXF1aXJlbWVudHNcIilcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkocnVsZS5tYXRjaCkgJiYgcnVsZS5tYXRjaC5pbmRleE9mKHZhbHVlKSA9PT0gLTEpIHtcbiAgICAgIHRocm93IG5ldyBDaHVua0Vycm9yKFwiVmFsdWUgZG9lcyBub3QgbWF0Y2ggcGF0aCByZXF1aXJlbWVudHNcIilcbiAgICB9XG4gIH1cblxuXG4gIHJldHVybiByZXNcbn1cblxuXG5jbGFzcyBDaHVuayB7XG4gIGNvbnN0cnVjdG9yIChydWxlKSB7XG4gICAgdGhpcy5vcmlnaW5hbCA9IHJ1bGVcbiAgICB0aGlzLnJ1bGUgPSBydWxlVG9PYmplY3QocnVsZSlcbiAgfVxuXG4gIGV4dHJhY3RBcmdzIChjaHVuaykge1xuICAgIHJldHVybiBleHRyYWN0QXJncyh0aGlzLnJ1bGUsIFwiXCIgKyBjaHVuaylcbiAgfVxuXG4gIGNyZWF0ZVBhdGggKHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgdmFsdWUgPSB2YWx1ZS52YWx1ZVxuICAgIH1cbiAgICBpZiAofltcInN0cmluZ1wiLCBcIm51bWJlclwiXS5pbmRleE9mKHR5cGVvZiB2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBjcmVhdGVQYXRoKHRoaXMucnVsZSwgXCJcIit2YWx1ZSlcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmlyc3QgcGFyYW1ldGVyIHNob3VsZCBiZSBhIHN0cmluZywgYSBudW1iZXIgb3IgYW4gb2JqZWN0IGNvbnRhaW5pbmcgXFxcInZhbHVlXFxcIiBmaWVsZFwiKVxuICAgIH1cbiAgfVxuXG4gIHNldFR5cGUgKHR5cGUpIHtcbiAgICB0aGlzLnJ1bGUudHlwZSA9IHR5cGVcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgc2V0VHJhbnNmb3JtICh0cmFuc2Zvcm0pIHtcbiAgICBpZiAodHlwZW9mIHRyYW5zZm9ybSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICB0aGlzLnJ1bGUudHJhbnNmb3JtID0gdHJhbnNmb3JtXG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkZpcnN0IHBhcmFtZXRlciBzaG91bGQgYmUgYSBGdW5jdGlvblwiKVxuICAgIH1cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgc2V0UmVnRXhwIChyZWdleHApIHtcbiAgICBpZiAocmVnZXhwIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgICB0aGlzLnJ1bGUucmVnZXhwID0gcmVnZXhwXG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJGaXJzdCBwYXJhbWV0ZXIgc2hvdWxkIGJlIGEgUmVnRXhwIGluc3RhbmNlXCIpXG4gICAgfVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBhZGRNYXRjaGVyIChtYXRjaGVyKSB7XG4gICAgaWYgKCF0aGlzLnJ1bGUubWF0Y2gpIHtcbiAgICAgIHRoaXMucnVsZS5tYXRjaCA9IFtdXG4gICAgfVxuICAgIHRoaXMucnVsZS5tYXRjaC5wdXNoKG1hdGNoZXIpXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIHNldE1hdGNoZXJzIChtYXRjaGVycykge1xuICAgIGlmIChBcnJheS5pc0FycmF5KG1hdGNoZXJzKSkge1xuICAgICAgdGhpcy5ydWxlLm1hdGNoID0gbWF0Y2hlcnNcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZpcnN0IHBhcmFtZXRlciBzaG91bGQgYmUgYW4gQXJyYXlcIilcbiAgICB9XG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIHN0YXRpYyBhZGRGb3JtYXQgKG5hbWUsIGZvcm1hdHRlcikge1xuICAgIGlmICghKHR5cGVvZiBmb3JtYXR0ZXIgPT09IFwiZnVuY3Rpb25cIikpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTZWNvbmQgcGFyYW1ldGVyIHNob3VsZCBiZSBhIEZ1bmN0aW9uXCIpXG4gICAgfVxuICAgIGlmIChGT1JNQVRTW25hbWVdKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBUeXBlICR7bmFtZX0gYWxyZWFkeSBleGlzdHNgKVxuICAgIH1cbiAgICBGT1JNQVRTW25hbWVdID0gZm9ybWF0dGVyXG4gIH1cbn1cblxuXG5leHBvcnQgZGVmYXVsdCBDaHVua1xuIl19